(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51a0cd88"],{3368:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"–£–¥–∞–ª–∏—Ç—å"},on:{"button-click":function(t){return e.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"–ó–∞–∫—Ä—ã—Ç—å"},on:{"button-click":function(t){return e.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[e._t("popup-delete-content")],2)])],1)},a=[],i=n("a26a"),p=n("34b0"),s=n("373c"),c={name:"PopupDeleteWrapper",components:{AppPopupWrapper:i["a"],AppTopPanel:p["a"],AppButtonIcon:s["a"]},props:{hidePopupStatus:Boolean,header:String}},r=c,l=(n("93f4"),n("2877")),u=Object(l["a"])(r,o,a,!1,null,"18d3d347",null);t["a"]=u.exports},"73a7":function(e,t,n){"use strict";n("94ec")},7980:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-edit"}},[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:e.popupRemoveHidden,header:"–£–¥–∞–ª–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏ "+e.editedDeal.name},on:{"close-popup":e.popupRemoveToggle,"delete-element":function(t){return e.removeDeal(e.editedDeal)}},scopedSlots:e._u([{key:"popup-delete-content",fn:function(){return[e._v(" –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∏–∫–æ–Ω–∫—É –∫–æ—Ä–∑–∏–Ω—ã –±—É–¥–µ—Ç —É–¥–∞–ª—ë–Ω–∞ —Å–¥–µ–ª–∫–∞ "),n("b",[e._v(e._s(e.editedDeal.name))])]},proxy:!0}])}),n("AppEditWrapper",{attrs:{header:"–†–µ–¥–∞–∫—Ç–æ—Ä —Å–¥–µ–ª–æ–∫: "+e.editedDeal.name},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"–£–¥–∞–ª–∏—Ç—å"},on:{"button-click":e.popupRemoveToggle}}),n("AppButtonIcon",{attrs:{icon:"save",size:"1.8rem",title:"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –≤—ã–π—Ç–∏"},on:{"button-click":function(t){return e.saveEditedDeal(e.editedDeal)}}}),n("AppButtonIcon",{attrs:{icon:"description",title:"–ò—Å—Ç–æ—Ä–∏—è —Å–¥–µ–ª–∫–∏",size:"1.8rem"},on:{"button-click":function(t){return e.$router.push({name:"dealHistory",params:{id:e.editedDeal.id}})}}}),n("AppButtonIcon",{attrs:{icon:"attach_money",size:"1.8rem",title:"–í–µ—Ä–Ω—É—Ç—å—Å—è"},on:{"button-click":e.editorExit}})]},proxy:!0},{key:"edit-section",fn:function(){return[n("div",{staticClass:"edit-block"},[n("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"import_contacts","header-text":"–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"}}),n("div",{staticClass:"edit-block-content"},[n("AppLineText",{attrs:{inputID:"input-city",label:"–ù–∞–∑–≤–∞–Ω–∏–µ: ",maxLength:"20"},model:{value:e.editedDeal.name,callback:function(t){e.$set(e.editedDeal,"name",t)},expression:"editedDeal.name"}})],1)],1),n("div",{staticClass:"edit-block"},[n("AppHeaderIcon",{staticClass:"edit-block-header",attrs:{"header-level":"4","material-icon":"chrome_reader_mode","header-text":"–ó–∞–º–µ—Ç–∫–∏"}}),n("div",{staticClass:"edit-block-content"},[n("AppNumbers",{attrs:{inputID:"input-note-count",label:"–ó–∞–º–µ—Ç–æ–∫ –≤ —Å–ø–∏—Å–∫–µ:  ",minValue:"0",maxValue:"35",maxLength:"3"},model:{value:e.editedDeal.notesCount,callback:function(t){e.$set(e.editedDeal,"notesCount",t)},expression:"editedDeal.notesCount"}}),n("AppLineText",{attrs:{placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é –∑–∞–º–µ—Ç–∫—É",inputID:"input-note",label:"–ù–æ–≤–∞—è –ó–∞–º–µ—Ç–∫–∞: ",maxLength:"35"},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}}),n("AppNotesList",{attrs:{"notes-list":e.editedDeal.notes,"notes-count":e.editedDeal.notesCount}})],1)],1)]},proxy:!0}])})],1)},a=[],i=n("5530"),p=(n("99af"),n("b0c0"),n("260b")),s=n("2f62"),c=n("2721"),r=n("38a1"),l=n("c0a7"),u=n("1b06"),d=n("49a1"),h=n("373c"),m=n("3368"),f={name:"DealEdit",components:{AppEditWrapper:c["a"],AppHeaderIcon:r["a"],AppButtonIcon:h["a"],AppLineText:u["a"],AppNumbers:d["a"],AppNotesList:l["a"],PopupDeleteWrapper:m["a"]},data:function(){return{popupRemoveHidden:!0,editedDeal:"",note:"",historyElement:{date:"[–î–∞—Ç–∞: ".concat((new Date).toLocaleDateString()," –í—Ä–µ–º—è: ").concat((new Date).toLocaleTimeString(),"]"),info:"–°–¥–µ–ª–∫–∞ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–ª–∞—Å—å ",employee:{name:"–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",id:0}}}},computed:Object(i["a"])({},Object(s["c"])(["deals","employees","authEmployee"])),created:function(){this.SET_EMPLOYEES_FROM_LOCAL_STORAGE(),this.SET_DEALS_FROM_LOCAL_STORAGE(),this.editedDeal=this.deals[this.$route.params.id],this.historyElement.employee={name:"".concat(this.authEmployee.surname," ").concat(this.authEmployee.name),id:this.authEmployee.id}},methods:Object(i["a"])(Object(i["a"])({},Object(s["d"])(["SET_DEALS_FROM_SERVER","SET_DEALS_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_LOCAL_STORAGE"])),{},{popupRemoveToggle:function(){this.popupRemoveHidden=!this.popupRemoveHidden},removeDeal:function(e){var t=this;this.popupRemoveToggle(),this.editorExit(),p["a"].database().ref("/deals/"+e.id).remove().then((function(){console.log("–°–¥–µ–ª–∫–∞ —É–¥–∞–ª—ë–Ω–∞ üóëÔ∏è"),t.SET_DEALS_FROM_SERVER()}))},editorExit:function(){this.$router.push("/deals")},saveNewNote:function(){if(this.note.length)try{this.editedDeal.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}catch(e){this.editedDeal.notes=[],this.editedDeal.notes.push("".concat((new Date).toLocaleDateString(),": ").concat(this.note))}},getNewHistoryElement:function(e){var t=this.historyElement;return t.info=e,t},saveEditedDeal:function(e){var t=this;this.saveNewNote(),e.history.push(this.getNewHistoryElement("–°–¥–µ–ª–∫–∞ –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞")),p["a"].database().ref("/deals/"+e.id).set(e).then((function(){t.SET_DEALS_FROM_SERVER(),t.editorExit(),M.toast({html:"–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!"})}))}})},E=f,v=n("2877"),b=Object(v["a"])(E,o,a,!1,null,null,null);t["default"]=b.exports},"93f4":function(e,t,n){"use strict";n("e420")},"94ec":function(e,t,n){},a26a:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[e._t("default")],2)])])},a=[],i={name:"PopupWrapper",props:{hidden:Boolean}},p=i,s=(n("73a7"),n("2877")),c=Object(s["a"])(p,o,a,!1,null,"70be0339",null);t["a"]=c.exports},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,i=Function.prototype,p=i.toString,s=/^\s*function ([^ (]*)/,c="name";o&&!(c in i)&&a(i,c,{configurable:!0,get:function(){try{return p.call(this).match(s)[1]}catch(e){return""}}})},e420:function(e,t,n){}}]);
//# sourceMappingURL=chunk-51a0cd88.b0df3d31.js.map