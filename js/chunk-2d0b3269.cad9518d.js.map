{"version":3,"sources":["webpack:///./src/components/section/employees/EmployeeEdit.vue?21c2","webpack:///src/components/section/employees/EmployeeEdit.vue","webpack:///./src/components/section/employees/EmployeeEdit.vue?8578","webpack:///./src/components/section/employees/EmployeeEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","editedEmployee","surname","name","scopedSlots","_u","key","fn","on","$event","saveEditedEmployee","editorExit","proxy","staticClass","model","value","callback","$$v","$set","expression","_v","staticRenderFns","components","AppEditWrapper","AppHeaderIcon","AppButtonIcon","AppLineText","AppSelect","data","history","computed","created","SET_EMPLOYEES_FROM_LOCAL_STORAGE","SET_SITES_FROM_LOCAL_STORAGE","employees","$route","params","id","methods","changeData","push","date","info","employee","authEmployee","$router","component"],"mappings":"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","file":"js/chunk-2d0b3269.cad9518d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-edit\"}},[_c('AppEditWrapper',{attrs:{\"header\":'Редактор сотрудника: ' + _vm.editedEmployee.surname + ' ' + _vm.editedEmployee.name},scopedSlots:_vm._u([{key:\"nav-buttons\",fn:function(){return [_c('AppButtonIcon',{attrs:{\"icon\":\"save\",\"title\":\"Сохранить и выйти\"},on:{\"button-click\":function($event){return _vm.saveEditedEmployee(_vm.editedEmployee)}}}),_c('AppButtonIcon',{attrs:{\"icon\":\"location_city\",\"title\":\"Вернуться к городам\"},on:{\"button-click\":_vm.editorExit}})]},proxy:true},{key:\"edit-section\",fn:function(){return [_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{staticClass:\"edit-block-header\",attrs:{\"header-level\":\"4\",\"material-icon\":\"assignment_ind\",\"header-text\":\"Авторизация\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppLineText',{attrs:{\"inputID\":\"input-email\",\"label\":\"Почта: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.email),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"email\", $$v)},expression:\"editedEmployee.email\"}}),_c('AppLineText',{attrs:{\"inputID\":\"input-password\",\"label\":\"Пароль: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.password),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"password\", $$v)},expression:\"editedEmployee.password\"}}),_c('AppSelect',{attrs:{\"selectID\":\"select\",\"label\":\"Доступ: \"},model:{value:(_vm.editedEmployee.access),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"access\", $$v)},expression:\"editedEmployee.access\"}},[_c('option',{attrs:{\"value\":\"employee\"}},[_vm._v(\"Сотрудник\")]),_c('option',{attrs:{\"value\":\"admin\"}},[_vm._v(\"Админ\")]),_c('option',{attrs:{\"value\":\"staffManager\"}},[_vm._v(\"Менеджер по персоналу\")]),_c('option',{attrs:{\"value\":\"customerManager\"}},[_vm._v(\"Менеджер по работе с заказчиками\")]),_c('option',{attrs:{\"value\":\"leader\"}},[_vm._v(\"Руководитель обособленного подразделения\")])]),_c('AppLineText',{attrs:{\"inputID\":\"input-duty\",\"label\":\"Должность: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.duty),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"duty\", $$v)},expression:\"editedEmployee.duty\"}})],1)],1),_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{staticClass:\"edit-block-header\",attrs:{\"header-level\":\"4\",\"material-icon\":\"account_box\",\"header-text\":\"ФИО\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppLineText',{attrs:{\"inputID\":\"input-surname\",\"label\":\"Фамилия: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.surname),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"surname\", $$v)},expression:\"editedEmployee.surname\"}}),_c('AppLineText',{attrs:{\"inputID\":\"input-name\",\"label\":\"Имя: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.name),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"name\", $$v)},expression:\"editedEmployee.name\"}}),_c('AppLineText',{attrs:{\"inputID\":\"input-patronymic\",\"label\":\"Отчество: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.patronymic),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"patronymic\", $$v)},expression:\"editedEmployee.patronymic\"}})],1)],1),_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{staticClass:\"edit-block-header\",attrs:{\"header-level\":\"4\",\"material-icon\":\"local_phone\",\"header-text\":\"Контактные данные\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppLineText',{attrs:{\"inputID\":\"input-city\",\"label\":\"Город: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.city),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"city\", $$v)},expression:\"editedEmployee.city\"}}),_c('AppLineText',{attrs:{\"inputID\":\"input-home-phone\",\"label\":\"Телефон домашний: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.homePhone),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"homePhone\", $$v)},expression:\"editedEmployee.homePhone\"}}),_c('AppLineText',{attrs:{\"inputID\":\"input-mobile-phone\",\"label\":\"Телефон мобильный: \",\"maxLength\":\"20\"},model:{value:(_vm.editedEmployee.mobilePhone),callback:function ($$v) {_vm.$set(_vm.editedEmployee, \"mobilePhone\", $$v)},expression:\"editedEmployee.mobilePhone\"}})],1)],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template class=\"editor\">\r\n  <div id=\"app-edit\">\r\n    <AppEditWrapper :header=\"'Редактор сотрудника: ' + editedEmployee.surname + ' ' + editedEmployee.name\">\r\n      <template #nav-buttons>\r\n        <AppButtonIcon icon=\"save\" title=\"Сохранить и выйти\" @button-click=\"saveEditedEmployee(editedEmployee)\"/>\r\n        <AppButtonIcon icon=\"location_city\" title=\"Вернуться к городам\" @button-click=\"editorExit\"/>\r\n      </template>\r\n\r\n      <template #edit-section>\r\n        <div class=\"edit-block\">\r\n          <AppHeaderIcon class=\"edit-block-header\" header-level=\"4\" material-icon=\"assignment_ind\" header-text=\"Авторизация\"/>\r\n\r\n          <div class=\"edit-block-content\">\r\n            <AppLineText\r\n              inputID=\"input-email\"\r\n              label=\"Почта: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.email\"\r\n            />\r\n\r\n            <AppLineText\r\n              inputID=\"input-password\"\r\n              label=\"Пароль: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.password\"\r\n            />\r\n\r\n            <AppSelect\r\n              selectID=\"select\"\r\n              label=\"Доступ: \"\r\n              v-model=\"editedEmployee.access\"\r\n            >\r\n              <option value=\"employee\">Сотрудник</option>\r\n              <option value=\"admin\">Админ</option>\r\n              <option value=\"staffManager\">Менеджер по персоналу</option>\r\n              <option value=\"customerManager\">Менеджер по работе с заказчиками</option>\r\n              <option value=\"leader\">Руководитель обособленного подразделения</option>\r\n            </AppSelect>\r\n\r\n            <AppLineText\r\n              inputID=\"input-duty\"\r\n              label=\"Должность: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.duty\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"edit-block\">\r\n          <AppHeaderIcon class=\"edit-block-header\" header-level=\"4\" material-icon=\"account_box\" header-text=\"ФИО\"/>\r\n\r\n          <div class=\"edit-block-content\">\r\n            <AppLineText\r\n              inputID=\"input-surname\"\r\n              label=\"Фамилия: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.surname\"\r\n            />\r\n\r\n            <AppLineText\r\n              inputID=\"input-name\"\r\n              label=\"Имя: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.name\"\r\n            />\r\n\r\n            <AppLineText\r\n              inputID=\"input-patronymic\"\r\n              label=\"Отчество: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.patronymic\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"edit-block\">\r\n          <AppHeaderIcon class=\"edit-block-header\" header-level=\"4\" material-icon=\"local_phone\" header-text=\"Контактные данные\"/>\r\n\r\n          <div class=\"edit-block-content\">\r\n            <AppLineText\r\n              inputID=\"input-city\"\r\n              label=\"Город: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.city\"\r\n            />\r\n\r\n            <AppLineText\r\n              inputID=\"input-home-phone\"\r\n              label=\"Телефон домашний: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.homePhone\"\r\n            />\r\n\r\n            <AppLineText\r\n              inputID=\"input-mobile-phone\"\r\n              label=\"Телефон мобильный: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedEmployee.mobilePhone\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </AppEditWrapper>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport firebase from 'firebase/app'\r\n\r\nimport AppEditWrapper from '@/components/edit/AppEditWrapper'\r\nimport AppHeaderIcon from '@/components/AppHeaderIcon'\r\nimport AppButtonIcon from '@/components/AppButtonIcon'\r\nimport AppLineText from '@/components/AppLineText'\r\nimport AppSelect from '@/components/AppSelect'\r\n\r\nexport default {\r\n  name: 'addEmployees.vue',\r\n\r\n  components: {\r\n    AppEditWrapper,\r\n    AppHeaderIcon,\r\n    AppButtonIcon,\r\n    AppLineText,\r\n    AppSelect\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      editedEmployee: '',\r\n      history: []\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'authEmployee',\r\n      'employees',\r\n      'sites'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this.SET_EMPLOYEES_FROM_LOCAL_STORAGE()\r\n    this.SET_SITES_FROM_LOCAL_STORAGE()\r\n    this.editedEmployee = this.employees[this.$route.params.id]\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\r\n      'SET_EMPLOYEES_FROM_SERVER',\r\n      'SET_EMPLOYEES_FROM_LOCAL_STORAGE',\r\n      'SET_SITES_FROM_LOCAL_STORAGE'\r\n    ]),\r\n\r\n    changeData (newValue, data) {\r\n      this.history.push({\r\n        date: `[Дата: ${new Date().toLocaleDateString()} Время: ${new Date().toLocaleTimeString()}]`,\r\n        info: `был изменён ${data} на \"${newValue}\" сотрудником`,\r\n        employee: {\r\n          name: `${this.authEmployee.surname} ${this.authEmployee.name}`,\r\n          id: this.authEmployee.id\r\n        }\r\n      })\r\n    },\r\n\r\n    editorExit () {\r\n      this.$router.push('/employees')\r\n    },\r\n\r\n    saveEditedEmployee (employee) {\r\n      try {\r\n        this.history.push({\r\n          date: `[Дата: ${new Date().toLocaleDateString()} Время: ${new Date().toLocaleTimeString()}]`,\r\n          info: 'Работник сохранён работником',\r\n          employee: {\r\n            name: `${this.authEmployee.surname} ${this.authEmployee.name}`,\r\n            id: this.authEmployee.id\r\n          }\r\n        })\r\n        employee.history.push(...this.history)\r\n        // eslint-disable-next-line no-undef\r\n      } catch (e) { M.toast({ html: 'Внимание! Данный сотрудник не поддерживает историю' }) }\r\n\r\n      firebase.database().ref('/employees/' + employee.id).set(employee).then(() => {\r\n        this.SET_EMPLOYEES_FROM_SERVER()\r\n        this.editorExit()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeeEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmployeeEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmployeeEdit.vue?vue&type=template&id=d82ffe42&class=editor&\"\nimport script from \"./EmployeeEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./EmployeeEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}