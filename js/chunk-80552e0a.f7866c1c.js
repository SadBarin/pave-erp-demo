(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80552e0a"],{"07ac":function(t,e,s){var a=s("23e7"),r=s("6f53").values;a({target:"Object",stat:!0},{values:function(t){return r(t)}})},"0d28":function(t,e,s){},3591:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.popupShow?s("Popup",{attrs:{"popup-toast":"Рабочий "+t.worker.surname+" "+t.worker.name+" был удалён!'"},on:{yes:function(e){return t.removeWorker(t.worker)},no:function(e){return t.popupHidden()}},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Удалить? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(' После нажатия кнопки "да" будет удалён '),s("b",[t._v(t._s(t.worker.surname)+" "+t._s(t.worker.name))]),t._v("! ")]},proxy:!0}],null,!1,4174212883)}):t._e(),s("table",[t._m(0),t._l(t.workers,(function(e){return s("tr",{key:e.value,class:"Нет"===e.fired?"":"opacity-5"},[s("td",[t._v(t._s(e.surname))]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.patronymic))]),s("td",[t._v(t._s(e.age))]),s("td",["Просрочена"===e.medicalBookStatus?s("div",{staticClass:"red-text darken-1"},[t._v(t._s(e.medicalBookStatus))]):s("div",[t._v(t._s(e.medicalBookStatus))])]),s("td",[t._v(t._s(e.city))]),s("td",[s("a",{attrs:{href:"tel:"+e.mobilePhone,title:"Позвонить"}},[t._v(t._s(e.mobilePhone))])]),s("td",[t._v(t._s(e.professions))]),s("td",[e?s("div",{staticClass:"flex-center btns-collection"},[e?s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть",to:{name:"workerAbout",params:{id:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]):t._e(),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Календарь",to:{name:"workerCalendar",params:{id:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("date_range")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"История редактирования",to:{name:"workerHistory",params:{id:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("description")])]),s("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Редактировать",to:{name:"workerEdit",params:{id:e.id}}}},[s("i",{staticClass:"material-icons"},[t._v("create")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(s){t.popupVisibility(e),t.setWorker(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])])],1):t._e()])])}))],2)],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Фамилия")]),s("th",[t._v("Имя")]),s("th",[t._v("Отчество")]),s("th",[t._v("Возраст")]),s("th",[t._v("Мед.книжка")]),s("th",[t._v("Город")]),s("th",[t._v("Телефон")]),s("th",[t._v("Профессия")]),s("th")])}],i=s("5614"),n={name:"TableWorkers",mixins:[i["a"]],props:{workers:Object},data:function(){return{worker:""}},methods:{setWorker:function(t){this.worker=t},removeWorker:function(t){this.$emit("remove-worker",t.id),this.popupHidden()}}},o=n,c=s("2877"),l=Object(c["a"])(o,a,r,!1,null,null,null);e["a"]=l.exports},"377c":function(t,e,s){"use strict";s("0d28")},"6f53":function(t,e,s){var a=s("83ab"),r=s("df75"),i=s("fc6a"),n=s("d1e7").f,o=function(t){return function(e){var s,o=i(e),c=r(o),l=c.length,u=0,p=[];while(l>u)s=c[u++],a&&!n.call(o,s)||p.push(t?[s,o[s]]:o[s]);return p}};t.exports={entries:o(!0),values:o(!1)}},c975:function(t,e,s){"use strict";var a=s("23e7"),r=s("4d64").indexOf,i=s("a640"),n=s("ae40"),o=[].indexOf,c=!!o&&1/[1].indexOf(1,-0)<0,l=i("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:c||!l||!u},{indexOf:function(t){return c?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},f951:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("div",{staticClass:"page-title flex-between-center"},[s("h3",[t._v("Поиск рабочих")]),s("button",{staticClass:"btn btn-hover blue darken-1",on:{click:t.searchAll}},[s("i",{staticClass:"material-icons"},[t._v("search")]),t._v(" Поиск ")])]),s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("div",[s("form",[s("div",[t._m(0),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-1"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label active",attrs:{for:"name"}},[t._v("Имя")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.name,expression:"searchInput.name",modifiers:{trim:!0}}],attrs:{id:"name",type:"text"},domProps:{value:t.searchInput.name},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"surname"}},[t._v("Фамилия")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.surname,expression:"searchInput.surname",modifiers:{trim:!0}}],attrs:{id:"surname",type:"text"},domProps:{value:t.searchInput.surname},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"surname",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"patronymic"}},[t._v("Отчество")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.patronymic,expression:"searchInput.patronymic",modifiers:{trim:!0}}],attrs:{id:"patronymic",type:"text"},domProps:{value:t.searchInput.patronymic},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"patronymic",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-2"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"age"}},[t._v("Возраст")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.age,expression:"searchInput.age",modifiers:{trim:!0}}],attrs:{id:"age",type:"number"},domProps:{value:t.searchInput.age},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"age",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Пол")]),s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.sex,expression:"searchInput.sex",modifiers:{trim:!0}}],staticClass:"browser-default editor-select",attrs:{id:"sex"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"sex",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),s("option",{staticClass:"editor-option",attrs:{value:"Мужской"}},[t._v("Мужской")]),s("option",{staticClass:"editor-option",attrs:{value:"Женский"}},[t._v("Женский")])])])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-3"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Город")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.city,expression:"searchInput.city"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"city",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(this.sites,(function(e){return s("option",{key:e.value,staticClass:"editor-option"},[t._v(" "+t._s(e.name)+" ")])}))],2)]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"mobilePhone"}},[t._v("Тел. Моб.")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.mobilePhone,expression:"searchInput.mobilePhone",modifiers:{trim:!0}}],attrs:{id:"mobilePhone",type:"tel"},domProps:{value:t.searchInput.mobilePhone},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"mobilePhone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-4"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Профессия")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.professions,expression:"searchInput.professions"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"professions",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(t.searchingProfessions(),(function(e){return s("option",{key:e,staticClass:"editor-option"},[t._v(" "+t._s(e)+" ")])}))],2)])])])]),s("div",{staticClass:"col s12 black-text"},[s("h4",[t._v("Найдено")]),s("TableWorkers",{attrs:{workers:t.searchWorkers},on:{"remove-worker":t.removeWorker}})],1)])])])])])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tabs flex-center",attrs:{id:"tabs-swipe"}},[s("li",{staticClass:"tab"},[s("a",{staticClass:"active flex-center",attrs:{href:"#search-swipe-1"}},[s("i",{staticClass:"material-icons"},[t._v("account_box")]),t._v("ФИО")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-2"}},[s("i",{staticClass:"material-icons"},[t._v("assignment")]),t._v("Личные данные")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-3"}},[s("i",{staticClass:"material-icons"},[t._v("local_phone")]),t._v("Контактные данные")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-4"}},[s("i",{staticClass:"material-icons"},[t._v("rate_review")]),t._v("Рабочие данные")])])])}],i=(s("4de4"),s("4160"),s("c975"),s("07ac"),s("159b"),s("5530")),n=s("4d5c"),o=s.n(n),c=s("3591"),l=s("5614"),u=s("2f62"),p=s("260b"),d={name:"SearchWorkers",components:{TableWorkers:c["a"]},mixins:[l["a"]],data:function(){return{updateTimeout:6e4,searchInput:{name:"",surname:"",patronymic:"",age:"",city:"",mobilePhone:"",professions:"",sex:"",medicalBook:""},searchWorkers:[]}},computed:Object(i["a"])({},Object(u["c"])(["sites","workers"])),methods:Object(i["a"])(Object(i["a"])({},Object(u["d"])(["SET_WORKERS_FROM_LOCAL_STORAGE"])),{},{searching:function(t){return function(e,s){if(""!==s)return t.filter((function(t){return t[e].toLowerCase()===s.toLowerCase()}))}},searchAll:function(){var t=Object.values(this.workers);for(var e in this.searchInput){var s=this.searching(t),a=s(e,this.searchInput[e]);void 0!==a&&(t=a)}this.searchWorkers=t,this.searchingProfessions()},searchingProfessions:function(){var t=[];return Object.values(this.workers).forEach((function(e){-1===t.indexOf(e.professions)&&t.push(e.professions)})),t},removeWorker:function(t){p["a"].database().ref("/workers/"+t).remove().then((function(){console.log("Рабочий удалён 🗑️")}))}}),mounted:function(){this.SET_WORKERS_FROM_LOCAL_STORAGE(),this.searchWorkers=Object.values(this.workers);var t=document.querySelectorAll(".tabs");t.forEach((function(t){o.a.Tabs.init(t)}))}},v=d,m=(s("377c"),s("2877")),f=Object(m["a"])(v,a,r,!1,null,"c9b24866",null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-80552e0a.f7866c1c.js.map