(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5688a2a9"],{"1dde":function(t,e,s){var i=s("d039"),r=s("b622"),a=s("2d00"),o=r("species");t.exports=function(t){return a>=51||!i((function(){var e=[],s=e.constructor={};return s[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,s){"use strict";var i=s("23e7"),r=s("b727").filter,a=s("1dde"),o=s("ae40"),n=a("filter"),l=o("filter");i({target:"Array",proto:!0,forced:!n||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},c18f:function(t,e,s){"use strict";s("f4c5")},c740:function(t,e,s){"use strict";var i=s("23e7"),r=s("b727").findIndex,a=s("44d2"),o=s("ae40"),n="findIndex",l=!0,c=o(n);n in[]&&Array(1)[n]((function(){l=!1})),i({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(n)},c975:function(t,e,s){"use strict";var i=s("23e7"),r=s("4d64").indexOf,a=s("a640"),o=s("ae40"),n=[].indexOf,l=!!n&&1/[1].indexOf(1,-0)<0,c=a("indexOf"),u=o("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?n.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d8e2:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[t.popupShow?s("Popup",{attrs:{"popup-title":"Удалить рабочего?","popup-toast":"Рабочий был удалён"},on:{yes:function(e){return t.removeWorker(t.worker)},no:t.popupHidden}}):t._e(),s("div",{staticClass:"page-title flex-between-center"},[s("h3",[t._v("Поиск рабочих")]),s("button",{staticClass:"btn waves-effect waves-light auth-submit blue darken-1",on:{click:function(e){return t.searchAll()}}},[s("i",{staticClass:"material-icons"},[t._v("search")]),t._v(" Поиск ")])]),s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("div",[s("form",[s("ul",{staticClass:"collapsible black-text form-content"},[s("li",{staticClass:"editor-card blue white-text"},[t._m(0),s("div",{staticClass:"collapsible-body blue"},[s("div",{staticClass:"collapsible-body-container"},[s("div",{staticClass:"input-field editor-input"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.name,expression:"searchInput.name",modifiers:{trim:!0}}],attrs:{id:"name",type:"text"},domProps:{value:t.searchInput.name},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"active",attrs:{for:"name"}},[t._v("Имя")])]),s("div",{staticClass:"input-field editor-input"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.surname,expression:"searchInput.surname",modifiers:{trim:!0}}],attrs:{id:"surname",type:"text"},domProps:{value:t.searchInput.surname},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"surname",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"active",attrs:{for:"surname"}},[t._v("Фамилия")])]),s("div",{staticClass:"input-field editor-input"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.patronymic,expression:"searchInput.patronymic",modifiers:{trim:!0}}],attrs:{id:"patronymic",type:"text"},domProps:{value:t.searchInput.patronymic},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"patronymic",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"active",attrs:{for:"patronymic"}},[t._v("Отчество")])])])])]),s("li",{staticClass:"editor-card blue white-text"},[t._m(1),s("div",{staticClass:"collapsible-body blue"},[s("div",{staticClass:"collapsible-body-container"},[s("div",{staticClass:"input-field editor-input"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.age,expression:"searchInput.age",modifiers:{trim:!0}}],attrs:{id:"age",type:"number"},domProps:{value:t.searchInput.age},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"age",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"active",attrs:{for:"age"}},[t._v("Возраст")])]),s("div",{staticClass:"input-field editor-input"},[s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.sex,expression:"searchInput.sex",modifiers:{trim:!0}}],staticClass:"browser-default editor-select",attrs:{id:"sex"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"sex",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),s("option",{staticClass:"editor-option",attrs:{value:"Мужской"}},[t._v("Мужской")]),s("option",{staticClass:"editor-option",attrs:{value:"Женский"}},[t._v("Женский")])]),s("label",{staticClass:"active"},[t._v("Пол")])]),s("div",{staticClass:"input-field editor-input"},[s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.medicalBook,expression:"searchInput.medicalBook",modifiers:{trim:!0}}],staticClass:"browser-default editor-select",attrs:{id:"medicalBook"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"medicalBook",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),s("option",{staticClass:"editor-option",attrs:{value:"Есть"}},[t._v("Есть")]),s("option",{staticClass:"editor-option",attrs:{value:"Отсутствует"}},[t._v("Отсутствует")])]),s("label",{staticClass:"active"},[t._v("Медицинская Книга")])])])])]),s("li",{staticClass:"editor-card blue white-text"},[t._m(2),s("div",{staticClass:"collapsible-body blue"},[s("div",{staticClass:"collapsible-body-container"},[s("div",{staticClass:"input-field editor-input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.city,expression:"searchInput.city"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"city",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(t.sites,(function(e){return s("option",{key:e.cityName,staticClass:"editor-option"},[t._v(" "+t._s(e.cityName)+" ")])}))],2),s("label",{staticClass:"active"},[t._v("Город")])]),s("div",{staticClass:"input-field editor-input"},[s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.mobilePhone,expression:"searchInput.mobilePhone",modifiers:{trim:!0}}],attrs:{id:"mobilePhone",type:"tel"},domProps:{value:t.searchInput.mobilePhone},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"mobilePhone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),s("label",{staticClass:"active",attrs:{for:"mobilePhone"}},[t._v("Телефон Мобильный")])])])])]),s("li",{staticClass:"editor-card blue white-text"},[t._m(3),s("div",{staticClass:"collapsible-body blue"},[s("div",{staticClass:"collapsible-body-container"},[s("div",{staticClass:"input-field editor-input"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.professions,expression:"searchInput.professions"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"professions",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(t.searchingProfessions(),(function(e){return s("option",{key:e,staticClass:"editor-option"},[t._v(" "+t._s(e)+" ")])}))],2),s("label",{staticClass:"active"},[t._v("Профессия")])])])])])]),s("div",{staticClass:"col s12 black-text"},[s("h4",[t._v("Найдено")]),t.workers.length?s("TableWorkers",{attrs:{workers:t.searchWorkers},on:{"popup-visibility":t.popupVisibility,"edited-worker-status":t.editedWorkerStatus}}):t._e()],1)])])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapsible-header blue darken-1"},[s("i",{staticClass:"material-icons"},[t._v("account_box")]),t._v("ФИО")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapsible-header blue darken-1"},[s("i",{staticClass:"material-icons"},[t._v("assignment")]),t._v("Личные данные")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapsible-header blue darken-1"},[s("i",{staticClass:"material-icons"},[t._v("local_phone")]),t._v("Контактные данные")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"collapsible-header blue darken-1"},[s("i",{staticClass:"material-icons"},[t._v("rate_review")]),t._v("Рабочие данные")])}],a=(s("4de4"),s("c740"),s("4160"),s("c975"),s("159b"),s("4d5c")),o=s.n(a),n=s("3905"),l=s("fd8a"),c={name:"SearchWorkers",components:{Popup:n["a"],TableWorkers:l["a"]},data:function(){return{workers:[],sites:[],popupShow:!1,worker:"",searchInput:{name:"",surname:"",patronymic:"",age:"",city:"",mobilePhone:"",professions:"",sex:"",medicalBook:""},searchWorkers:""}},methods:{popupVisibility:function(t){this.popupShow=!0,this.worker=t},popupHidden:function(){this.popupShow=!1},searching:function(t){return function(e,s){if(""!==s)return t.filter((function(t){return t[e].toLowerCase()===s.toLowerCase()}))}},searchAll:function(){var t=this.workers;for(var e in this.searchInput){var s=this.searching(t),i=s(e,this.searchInput[e]);void 0!==i&&(t=i)}this.searchWorkers=t;try{0===this.searchWorkers.length?o.a.toast({html:"Ничего не найдено!"}):o.a.toast({html:"Найдено: ".concat(this.searchWorkers.length)})}catch(r){}this.searchingProfessions()},searchingProfessions:function(){var t=[];return this.workers.forEach((function(e){-1===t.indexOf(e.professions)&&t.push(e.professions)})),t},editedWorkerStatus:function(t){var e=this.workers.findIndex((function(e){return e.id===t}));this.workers[e].edited=!0,this.saveCollection(this.workers,"workers"),this.$router.push("/workers/editor")},removeWorker:function(t){this.workers=this.workers.filter((function(e){return e.id!==t})),this.saveCollection(this.workers,"workers"),this.popupHidden(),this.searchWorkers=this.workers},addWorker:function(t){this.workers.push(t),this.saveCollection(this.workers,"workers")},saveCollection:function(t,e){var s=JSON.stringify(t);localStorage.setItem(e,s)},updateCollection:function(t){if(localStorage.getItem(t))try{this.workers=JSON.parse(localStorage.getItem(t))}catch(e){localStorage.removeItem(t)}}},mounted:function(){if(this.updateCollection("workers"),this.searchWorkers=this.workers,localStorage.getItem("sites"))try{this.sites=JSON.parse(localStorage.getItem("sites"))}catch(e){localStorage.removeItem("sites")}var t=document.querySelectorAll(".collapsible");t.forEach((function(t){o.a.Collapsible.init(t)}))}},u=c,d=(s("c18f"),s("2877")),p=Object(d["a"])(u,i,r,!1,null,"034880cb",null);e["default"]=p.exports},f4c5:function(t,e,s){},fd8a:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[t._m(0),t._l(t.workers,(function(e){return s("tr",{key:e.value},[s("td",[t._v(t._s(e.surname))]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.patronymic))]),s("td",[t._v(t._s(e.sex))]),s("td",[t._v(t._s(e.age))]),s("td",[t._v(t._s(e.medicalBook))]),s("td",[t._v(t._s(e.city))]),s("td",[t._v(t._s(e.mobilePhone))]),s("td",[t._v(t._s(e.professions))]),s("td",[s("div",{staticClass:"flex-center"},[s("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть"},on:{click:function(s){return s.preventDefault(),t.watchAboutWorker(e)}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(s){return s.preventDefault(),t.popupVisibility(e.id)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])]),s("button",{staticClass:"btn-transparent transparent waves-effect auth-submit blue-text text-darken-1",attrs:{title:"Редактировать"},on:{click:function(s){return s.preventDefault(),t.editedWorkerStatus(e.id)}}},[s("i",{staticClass:"material-icons"},[t._v("create")])])])])])}))],2)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Фамилия")]),s("th",[t._v("Имя")]),s("th",[t._v("Отчество")]),s("th",[t._v("Пол")]),s("th",[t._v("Возраст")]),s("th",[t._v("Мед.книжка")]),s("th",[t._v("Город")]),s("th",[t._v("Телефон")]),s("th",[t._v("Профессия")]),s("th")])}],a={name:"TableWorkers",methods:{popupVisibility:function(t){this.$emit("popup-visibility",t)},editedWorkerStatus:function(t){this.$emit("edited-worker-status",t)},watchAboutWorker:function(t){this.$emit("watch-about-worker",t)}},props:["workers"]},o=a,n=s("2877"),l=Object(n["a"])(o,i,r,!1,null,"1f0810bd",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-5688a2a9.a1566ade.js.map