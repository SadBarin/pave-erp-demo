(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ee7b606"],{"1b06":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:e.maxLength,id:e.inputID,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:e.inputID}},[e._v(e._s(e.label))])])},o=[],r={name:"AppInput",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:String}},p=r,c=(n("f8a1"),n("2877")),s=Object(c["a"])(p,a,o,!1,null,"114e77c1",null);t["a"]=s.exports},"26cb":function(e,t,n){"use strict";n("f663")},3368:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"Удалить"},on:{"button-click":function(t){return e.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[e._t("popup-delete-content")],2)])],1)},o=[],r=n("a26a"),p=n("34b0"),c=n("373c"),s={name:"PopupDeleteWrapper",components:{AppPopupWrapper:r["a"],AppTopPanel:p["a"],AppButtonIcon:c["a"]},props:{hidePopupStatus:Boolean,header:String}},u=s,i=(n("93f4"),n("2877")),l=Object(i["a"])(u,a,o,!1,null,"18d3d347",null);t["a"]=l.exports},"34b0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[e._v(e._s(e.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[e._t("nav-buttons")],2)])},o=[],r={name:"AppTopPanel",props:{header:String}},p=r,c=(n("26cb"),n("2877")),s=Object(c["a"])(p,a,o,!1,null,"1d3c31be",null);t["a"]=s.exports},"373c":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-button-container"},[e.pressed?n("div",{staticClass:"app-button pressed",style:"width: "+e.size+" !important;height: "+e.size+" !important",attrs:{title:e.title}},[n("i",{staticClass:"material-icons app-button-icon",style:"font-size: "+e.size+" !important"},[e._v(e._s(e.icon))])]):n("button",{staticClass:"app-button",style:"width: "+e.size+" !important;height: "+e.size+" !important",attrs:{title:e.title},on:{click:function(t){return e.$emit("button-click")}}},[n("i",{staticClass:"material-icons app-button-icon",style:"font-size: "+e.size+" !important"},[e._v(e._s(e.icon))])])])},o=[],r={name:"AppButtonIcon",props:{icon:String,size:String,title:String,pressed:Boolean}},p=r,c=(n("50fa"),n("2877")),s=Object(c["a"])(p,a,o,!1,null,"1efa6c99",null);t["a"]=s.exports},"3a7b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidden}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(t){return e.$emit("popup-add")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("popup-close")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-add-wrapper"},[e._t("popup-add-content")],2)],1)},o=[],r=n("a26a"),p=n("34b0"),c=n("373c"),s={name:"PopupAddWrapper",components:{AppPopupWrapper:r["a"],AppTopPanel:p["a"],AppButtonIcon:c["a"]},props:{hidden:Boolean,header:String,objectAdded:Object},data:function(){return{addedCity:{},firstNote:"Город был создан"}},created:function(){this.renewAddedData()},methods:{renewAddedData:function(){this.addedCity={id:Date.now(),name:"",notes:["Город был создан"],notesCount:"5"},this.firstNote="Город был создан"},addCity:function(e){this.$emit("add-city",e),this.renewAddedData()}}},u=s,i=n("2877"),l=Object(i["a"])(u,a,o,!1,null,null,null);t["a"]=l.exports},"50fa":function(e,t,n){"use strict";n("7aa8")},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),o=n("5899"),r="["+o+"]",p=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),s=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(p,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:s(1),end:s(2),trim:s(3)}},6600:function(e,t,n){"use strict";n("6d18")},6810:function(e,t,n){},"6d18":function(e,t,n){},7156:function(e,t,n){var a=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var r,p;return o&&"function"==typeof(r=t.constructor)&&r!==n&&a(p=r.prototype)&&p!==n.prototype&&o(e,p),e}},"73a7":function(e,t,n){"use strict";n("94ec")},"7aa8":function(e,t,n){},"93f4":function(e,t,n){"use strict";n("e420")},"94ec":function(e,t,n){},a26a:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[e._t("default")],2)])])},o=[],r={name:"PopupWrapper",props:{hidden:Boolean}},p=r,c=(n("73a7"),n("2877")),s=Object(c["a"])(p,a,o,!1,null,"70be0339",null);t["a"]=s.exports},a327:function(e,t,n){"use strict";n("6810")},a9e3:function(e,t,n){"use strict";var a=n("83ab"),o=n("da84"),r=n("94ca"),p=n("6eeb"),c=n("5135"),s=n("c6b6"),u=n("7156"),i=n("c04e"),l=n("d039"),d=n("7c73"),f=n("241c").f,m=n("06cf").f,b=n("9bf2").f,_=n("58a8").trim,h="Number",v=o[h],A=v.prototype,S=s(d(A))==h,g=function(e){var t,n,a,o,r,p,c,s,u=i(e,!1);if("string"==typeof u&&u.length>2)if(u=_(u),t=u.charCodeAt(0),43===t||45===t){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+u}for(r=u.slice(2),p=r.length,c=0;c<p;c++)if(s=r.charCodeAt(c),s<48||s>o)return NaN;return parseInt(r,a)}return+u};if(r(h,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var D,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(S?l((function(){A.valueOf.call(n)})):s(n)!=h)?u(new v(g(t)),n,E):g(t)},O=a?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;O.length>T;T++)c(v,D=O[T])&&!c(E,D)&&b(E,D,m(v,D));E.prototype=A,A.constructor=E,p(o,h,E)}},b0c0:function(e,t,n){var a=n("83ab"),o=n("9bf2").f,r=Function.prototype,p=r.toString,c=/^\s*function ([^ (]*)/,s="name";a&&!(s in r)&&o(r,s,{configurable:!0,get:function(){try{return p.call(this).match(c)[1]}catch(e){return""}}})},b609:function(e,t,n){"use strict";n("d5f1")},d5f1:function(e,t,n){},e076:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-deal"}},[n("DealPopupAdd",{attrs:{popupHidden:e.popupAddDeal},on:{"popup-toggle":e.popupAddToggle,"add-deal":e.addDeal}}),n("AppTopPanel",{attrs:{header:"Список сделок"},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить сделки"},on:{"button-click":function(t){return e.popupAddToggle()}}})]},proxy:!0}])}),n("div",{staticClass:"app-deal-content"},[n("DealTable",{attrs:{deals:e.deals},on:{"remove-deal":e.removeDeal}})],1)],1)},o=[],r=n("5530"),p=(n("b0c0"),n("260b")),c=n("2f62"),s=n("34b0"),u=n("373c"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PopupAddWrapper",{attrs:{hidden:e.popupHidden,header:"Добавление сделки"},on:{"popup-add":function(t){return e.addDeal(e.addedDeal)},"popup-close":function(t){return e.$emit("popup-toggle")}},scopedSlots:e._u([{key:"popup-add-content",fn:function(){return[n("AppLineText",{attrs:{inputID:"input-deal-name",label:"Название: ",maxLength:"20"},model:{value:e.addedDeal.name,callback:function(t){e.$set(e.addedDeal,"name",t)},expression:"addedDeal.name"}}),n("AppSelect",{attrs:{selectID:"select",label:"Заказчик: "},model:{value:e.addedDeal.customer,callback:function(t){e.$set(e.addedDeal,"customer",t)},expression:"addedDeal.customer"}},e._l(e.customers,(function(t){return n("option",{key:t.id,domProps:{value:t.name}},[e._v(e._s(t.name))])})),0),n("AppSelect",{attrs:{selectID:"select",label:"Рабочий: "},model:{value:e.addedDeal.worker,callback:function(t){e.$set(e.addedDeal,"worker",t)},expression:"addedDeal.worker"}},e._l(e.workers,(function(t){return n("option",{key:t.id,domProps:{value:t.surname}},[e._v(e._s(t.surname)+" "+e._s(t.name))])})),0)]},proxy:!0}])})},l=[],d=n("3a7b"),f=n("1b06"),m=n("fac1"),b={name:"DealPopupAdd",data:function(){return{addedDeal:{}}},computed:Object(r["a"])({},Object(c["c"])(["workers","customers"])),components:{PopupAddWrapper:d["a"],AppLineText:f["a"],AppSelect:m["a"]},props:{popupHidden:Boolean},created:function(){this.renewAddedData(),this.SET_WORKERS_FROM_LOCAL_STORAGE(),this.SET_CUSTOMERS_FROM_LOCAL_STORAGE()},methods:Object(r["a"])(Object(r["a"])({},Object(c["d"])(["SET_WORKERS_FROM_LOCAL_STORAGE","SET_CUSTOMERS_FROM_LOCAL_STORAGE"])),{},{renewAddedData:function(){this.addedDeal={id:Date.now(),name:"",customer:"",worker:"",notes:["Сделка была создана"],notesCount:"5"}},addDeal:function(e){this.$emit("add-deal",e),this.renewAddedData()}})},_=b,h=n("2877"),v=Object(h["a"])(_,i,l,!1,null,null,null),A=v.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppTableWrapper",{scopedSlots:e._u([{key:"table-content",fn:function(){return[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:e.popupRemoveHidden,header:"Удаление сделки "+e.currentDeal.name},on:{"close-popup":function(t){return e.popupRemoveToggle({})},"delete-element":function(t){e.$emit("remove-deal",e.currentDeal.id),e.popupRemoveToggle({})}},scopedSlots:e._u([{key:"popup-delete-content",fn:function(){return[e._v(" После нажатия на иконку корзины будет удалёна сделка "),n("b",[e._v(e._s(e.currentDeal.name))])]},proxy:!0}])}),n("AppTableRow",{attrs:{"columns-count":e.columnsCount,"columns-size":e.columnsSize,"columns-array":e.columnHeaderArray,"row-header":!0}}),e._l(e.deals,(function(t){return[n("AppTableRow",{key:t.id,attrs:{"columns-count":e.columnsCount,"columns-size":e.columnsSize,"columns-array":[t.name,t.customer,t.worker,t.notes[0]]},scopedSlots:e._u([{key:"column-action",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",title:"Удалить сделки",size:"1.2rem"},on:{"button-click":function(n){return e.popupRemoveToggle(t)}}})]},proxy:!0}],null,!0)})]}))]},proxy:!0}])})},g=[],D=n("3368"),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-table"},[e._t("table-content")],2)},O=[],T={name:"AppTable"},y=T,R=(n("a327"),Object(h["a"])(y,E,O,!1,null,"0ddb9160",null)),w=R.exports,C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:"app-table-row "+(e.rowHeader?"row-header":"row-simple"),style:{"--columns-count":e.columnsCount,"--columns-size":e.columnsSize}},[e._l(e.columnsArray,(function(t,a){return n("div",{key:a},[e._v(" "+e._s(t)+" ")])})),n("div",[e._t("column-action")],2)],2)},I=[],x=(n("a9e3"),{name:"AppTableRow",props:{columnsCount:Number,columnsSize:String,columnsArray:Array,rowHeader:Boolean}}),k=x,P=(n("b609"),Object(h["a"])(k,C,I,!1,null,"608ad542",null)),$=P.exports,j={name:"DealTable",data:function(){return{popupRemoveHidden:!0,currentDeal:{},columnsCount:5,columnsSize:"15rem",columnHeaderArray:["Название","Заказчик","Рабочий","Заметка","Действия"]}},props:{deals:Object},components:{PopupDeleteWrapper:D["a"],AppButtonIcon:u["a"],AppTableWrapper:w,AppTableRow:$},methods:{popupRemoveToggle:function(e){this.popupRemoveHidden=!this.popupRemoveHidden,this.currentDeal=e}}},L=j,z=Object(h["a"])(L,S,g,!1,null,null,null),N=z.exports,B={name:"TheDeal",components:{AppTopPanel:s["a"],AppButtonIcon:u["a"],DealPopupAdd:A,DealTable:N},data:function(){return{popupAddDeal:!0}},computed:Object(r["a"])({},Object(c["c"])(["deals"])),created:function(){this.SET_DEALS_FROM_LOCAL_STORAGE()},methods:Object(r["a"])(Object(r["a"])({},Object(c["d"])(["SET_DEALS_FROM_LOCAL_STORAGE","SET_DEALS_FROM_SERVER"])),{},{popupAddToggle:function(){this.popupAddDeal=!this.popupAddDeal},removeDeal:function(e){var t=this;p["a"].database().ref("/deals/"+e).remove().then((function(){console.log("Сделка удалёна 🗑️"),t.SET_DEALS_FROM_SERVER()}))},addDeal:function(e){var t=this;this.popupAddToggle(),e.name=e.name[0].toUpperCase()+e.name.substring(1),p["a"].database().ref("/deals/"+e.id).set(e).then((function(){console.log("Сделка добавлена ➕"),t.popupAddHidden=!0,t.SET_DEALS_FROM_SERVER()}))}})},F=B,M=Object(h["a"])(F,a,o,!1,null,null,null);t["default"]=M.exports},e420:function(e,t,n){},f2cc:function(e,t,n){},f663:function(e,t,n){},f8a1:function(e,t,n){"use strict";n("f2cc")},fac1:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-select"}},[n("select",{staticClass:"app-select browser-default",attrs:{id:e.selectID},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}},[e._t("default")],2),n("label",{staticClass:"select-label",attrs:{for:e.selectID}},[e._v(e._s(e.label))])])},o=[],r={name:"AppSelect",props:{selectID:String,label:String,value:String}},p=r,c=(n("6600"),n("2877")),s=Object(c["a"])(p,a,o,!1,null,"152ee0a8",null);t["a"]=s.exports}}]);
//# sourceMappingURL=chunk-2ee7b606.5fbd5a34.js.map