(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20f0d75d"],{"1b06":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:e.maxLength,id:e.inputID,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:e.inputID}},[e._v(e._s(e.label))])])},o=[],p={name:"AppInput",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:String}},r=p,i=(n("f8a1"),n("2877")),s=Object(i["a"])(r,a,o,!1,null,"114e77c1",null);t["a"]=s.exports},3368:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidePopupStatus}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"delete",size:"1.8rem",title:"Удалить"},on:{"button-click":function(t){return e.$emit("delete-element")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("close-popup")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-delete-wrapper"},[n("p",[e._t("popup-delete-content")],2)])],1)},o=[],p=n("a26a"),r=n("34b0"),i=n("373c"),s={name:"PopupDeleteWrapper",components:{AppPopupWrapper:p["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidePopupStatus:Boolean,header:String}},l=s,c=(n("93f4"),n("2877")),u=Object(c["a"])(l,a,o,!1,null,"18d3d347",null);t["a"]=u.exports},"34b0":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[e._v(e._s(e.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[e._t("nav-buttons")],2)])},o=[],p={name:"AppTopPanel",props:{header:String}},r=p,i=(n("bdaf"),n("2877")),s=Object(i["a"])(r,a,o,!1,null,"11bb2a0a",null);t["a"]=s.exports},"3a7b":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppPopupWrapper",{attrs:{hidden:e.hidden}},[n("AppTopPanel",{attrs:{header:e.header},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить"},on:{"button-click":function(t){return e.$emit("popup-add")}}}),n("AppButtonIcon",{attrs:{icon:"close",size:"1.8rem",title:"Закрыть"},on:{"button-click":function(t){return e.$emit("popup-close")}}})]},proxy:!0}])}),n("div",{staticClass:"popup-add-wrapper"},[e._t("popup-add-content")],2)],1)},o=[],p=n("a26a"),r=n("34b0"),i=n("373c"),s={name:"PopupAddWrapper",components:{AppPopupWrapper:p["a"],AppTopPanel:r["a"],AppButtonIcon:i["a"]},props:{hidden:Boolean,header:String,objectAdded:Object},data:function(){return{addedCity:{},firstNote:"Город был создан"}},created:function(){this.renewAddedData()},methods:{renewAddedData:function(){this.addedCity={id:Date.now(),name:"",notes:["Город был создан"],notesCount:"5"},this.firstNote="Город был создан"},addCity:function(e){this.$emit("add-city",e),this.renewAddedData()}}},l=s,c=n("2877"),u=Object(c["a"])(l,a,o,!1,null,null,null);t["a"]=u.exports},"633e":function(e,t,n){},"73a7":function(e,t,n){"use strict";n("94ec")},"93f4":function(e,t,n){"use strict";n("e420")},"94ec":function(e,t,n){},"99af":function(e,t,n){"use strict";var a=n("23e7"),o=n("d039"),p=n("e8b5"),r=n("861d"),i=n("7b0b"),s=n("50c4"),l=n("8418"),c=n("65f0"),u=n("1dde"),d=n("b622"),m=n("2d00"),f=d("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",b=m>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),y=u("concat"),_=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:p(e)},E=!b||!y;a({target:"Array",proto:!0,forced:E},{concat:function(e){var t,n,a,o,p,r=i(this),u=c(r,0),d=0;for(t=-1,a=arguments.length;t<a;t++)if(p=-1===t?r:arguments[t],_(p)){if(o=s(p.length),d+o>h)throw TypeError(v);for(n=0;n<o;n++,d++)n in p&&l(u,d,p[n])}else{if(d>=h)throw TypeError(v);l(u,d++,p)}return u.length=d,u}})},a26a:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[e._t("default")],2)])])},o=[],p={name:"PopupWrapper",props:{hidden:Boolean}},r=p,i=(n("73a7"),n("2877")),s=Object(i["a"])(r,a,o,!1,null,"70be0339",null);t["a"]=s.exports},b0c0:function(e,t,n){var a=n("83ab"),o=n("9bf2").f,p=Function.prototype,r=p.toString,i=/^\s*function ([^ (]*)/,s="name";a&&!(s in p)&&o(p,s,{configurable:!0,get:function(){try{return r.call(this).match(i)[1]}catch(e){return""}}})},b445:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app-employees"}},[n("EmployeePopupAdd",{attrs:{"popup-hidden":e.popupAddHidden,employees:e.employees},on:{popupToggle:e.popupAddToggle,addEmployee:e.addEmployee}}),n("AppTopPanel",{attrs:{header:"Список сотрудников"},scopedSlots:e._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"autorenew",size:"1.8rem",title:"Обновить города"},on:{"button-click":e.updateEmployees}}),n("AppButtonIcon",{attrs:{icon:"add",size:"1.8rem",title:"Добавить города"},on:{"button-click":e.popupAddToggle}})]},proxy:!0}])}),n("div",[e.employees?n("EmployeesTable",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):e._e()],1)],1)},o=[],p=n("1da1"),r=n("5530"),i=(n("96cf"),n("2f62")),s=n("260b"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PopupDeleteWrapper",{attrs:{hidePopupStatus:e.popupRemoveHidden,header:"Удаление сотрудника"},on:{"close-popup":e.popupRemoveToggle,"delete-element":function(t){return e.removeEmployee(e.employee.id)}},scopedSlots:e._u([{key:"popup-delete-content",fn:function(){return[e._v(' После нажатия кнопки "да" будет удалён сотрудник! ')]},proxy:!0}])}),n("table",[e._m(0),e._l(e.employees,(function(t){return n("tr",{key:t.value},[n("td",[n("div",{staticClass:"parent-clip-text"},[n("p",{staticClass:"clip-text",attrs:{title:t.surname}},[e._v(e._s(t.surname))])])]),n("td",[n("div",{staticClass:"parent-clip-text"},[n("p",{staticClass:"clip-text",attrs:{title:t.name}},[e._v(e._s(t.name))])])]),n("td",[n("div",{staticClass:"parent-clip-text"},[n("a",{staticClass:"clip-text",attrs:{href:"mailto:"+t.email,title:"Написать на почту: "+t.email}},[e._v(e._s(t.email))])])]),n("td",[n("a",{attrs:{href:"tel:"+t.number,title:"Позвонить"}},[e._v(e._s(t.mobilePhone))])]),n("td",[n("div",{staticClass:"parent-clip-text"},[n("p",{staticClass:"clip-text",attrs:{title:t.city}},[e._v(e._s(t.city))])])]),n("td",[n("div",{staticClass:"parent-clip-text"},[n("p",{staticClass:"clip-text",attrs:{title:t.duty}},[e._v(e._s(t.duty))])])]),n("td",[n("div",{staticClass:"flex-center btns-collection"},[n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"История редактирования",to:{name:"employeeHistory",params:{id:t.id}}}},[n("i",{staticClass:"material-icons"},[e._v("description")])]),n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Редактировать",to:{name:"employeeEdit",params:{id:t.id}}}},[n("i",{staticClass:"material-icons"},[e._v("create")])]),n("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(n){e.popupRemoveToggle(),e.setEmployee(t)}}},[n("i",{staticClass:"material-icons"},[e._v("delete")])])],1)])])}))],2)],1)},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("Фамилия")]),n("th",[e._v("Имя")]),n("th",[e._v("Почта")]),n("th",[e._v("Номер")]),n("th",[e._v("Город")]),n("th",[e._v("Должность")])])}],u=n("3368"),d={name:"TableEmployees",components:{PopupDeleteWrapper:u["a"]},props:{employees:Object},data:function(){return{employee:"",popupRemoveHidden:!0}},methods:{popupRemoveToggle:function(){this.popupRemoveHidden=!this.popupRemoveHidden},setEmployee:function(e){this.employee=e},removeEmployee:function(e){this.popupRemoveToggle(),this.$emit("remove-employee",e)}}},m=d,f=n("2877"),h=Object(f["a"])(m,l,c,!1,null,null,null),v=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PopupAddWrapper",{attrs:{hidden:e.popupHidden,header:"Добавление сотрудника"},on:{"popup-close":function(t){return e.$emit("popupToggle")},"popup-add":function(t){return e.createEmployee()}},scopedSlots:e._u([{key:"popup-add-content",fn:function(){return[n("AppLineText",{attrs:{inputID:"input-email",label:"Почта: ",maxLength:"20"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})]},proxy:!0}])})},y=[],_=(n("99af"),n("b0c0"),n("3a7b")),E=n("1b06"),g={name:"EmployeePopupAdd",components:{PopupAddWrapper:_["a"],AppLineText:E["a"]},props:{popupHidden:Boolean,employees:Object},data:function(){return{email:"",firstNote:"Сотрудник был создан"}},computed:Object(r["a"])({},Object(i["c"])(["authEmployee"])),methods:{getPassword:function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!№;%:?*()@_+=",n=0;n<10;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},createEmployee:function(){var e={id:Date.now(),email:this.email,password:this.getPassword(),name:"Сотрудник",surname:"Новый",patronymic:"",sex:"Мужской",homePhone:"",mobilePhone:"",city:this.authEmployee.city,duty:"Сотрудник",access:"employee",settings:{autoUpdate:5e3},history:[{date:"[Дата: ".concat((new Date).toLocaleDateString()," Время: ").concat((new Date).toLocaleTimeString(),"]"),info:"Сотрудник создан сотрудником ",employee:{name:"".concat(this.authEmployee.surname," ").concat(this.authEmployee.name),id:this.authEmployee.id}}]};this.$emit("addEmployee",e),this.email=""}}},x=g,A=Object(f["a"])(x,b,y,!1,null,null,null),S=A.exports,O=n("34b0"),w=n("373c"),P={name:"Employees",components:{EmployeesTable:v,AppTopPanel:O["a"],AppButtonIcon:w["a"],EmployeePopupAdd:S},computed:Object(r["a"])({},Object(i["c"])(["employees"])),data:function(){return{popupAddHidden:!0}},created:function(){this.SET_EMPLOYEES_FROM_LOCAL_STORAGE()},methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(i["d"])(["SET_EMPLOYEES_FROM_LOCAL_STORAGE","SET_EMPLOYEES_FROM_SERVER"])),Object(i["b"])(["registerEmployees"])),{},{popupAddToggle:function(){this.popupAddHidden=!this.popupAddHidden},removeEmployee:function(e){var t=this;s["a"].database().ref("/employees/"+e).remove().then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник удалён 🗑️")}))},addEmployee:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.popupAddToggle(),a={email:e.email,password:e.password},n.next=4,t.registerEmployees(a);case 4:e.id=n.sent,s["a"].database().ref("/employees/"+e.id).set(e).then((function(){t.SET_EMPLOYEES_FROM_SERVER(),console.log("Сотрудник добавлен ➕")}));case 6:case"end":return n.stop()}}),n)})))()},updateEmployees:function(){this.SET_EMPLOYEES_FROM_SERVER(),M.toast({html:"Сотрудники обновлены"})}})},T=P,C=Object(f["a"])(T,a,o,!1,null,null,null);t["default"]=C.exports},bdaf:function(e,t,n){"use strict";n("633e")},e420:function(e,t,n){},f2cc:function(e,t,n){},f8a1:function(e,t,n){"use strict";n("f2cc")}}]);
//# sourceMappingURL=chunk-20f0d75d.54f5639f.js.map