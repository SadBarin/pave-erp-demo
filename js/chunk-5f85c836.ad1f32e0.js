(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f85c836"],{"153e":function(e,t,i){"use strict";i("cf64")},2985:function(e,t,i){},3663:function(e,t,i){},"498a":function(e,t,i){"use strict";var a=i("23e7"),o=i("58a8").trim,s=i("c8d2");a({target:"String",proto:!0,forced:s("trim")},{trim:function(){return o(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var a=i("1d80"),o=i("5899"),s="["+o+"]",l=RegExp("^"+s+s+"*"),n=RegExp(s+s+"*$"),r=function(e){return function(t){var i=String(a(t));return 1&e&&(i=i.replace(l,"")),2&e&&(i=i.replace(n,"")),i}};e.exports={start:r(1),end:r(2),trim:r(3)}},7156:function(e,t,i){var a=i("861d"),o=i("d2bb");e.exports=function(e,t,i){var s,l;return o&&"function"==typeof(s=t.constructor)&&s!==i&&a(l=s.prototype)&&l!==i.prototype&&o(e,l),e}},a198:function(e,t,i){"use strict";i("2985")},a9e3:function(e,t,i){"use strict";var a=i("83ab"),o=i("da84"),s=i("94ca"),l=i("6eeb"),n=i("5135"),r=i("c6b6"),c=i("7156"),m=i("c04e"),p=i("d039"),u=i("7c73"),d=i("241c").f,f=i("06cf").f,v=i("9bf2").f,y=i("58a8").trim,h="Number",_=o[h],b=_.prototype,C=r(u(b))==h,g=function(e){var t,i,a,o,s,l,n,r,c=m(e,!1);if("string"==typeof c&&c.length>2)if(c=y(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+c}for(s=c.slice(2),l=s.length,n=0;n<l;n++)if(r=s.charCodeAt(n),r<48||r>o)return NaN;return parseInt(s,a)}return+c};if(s(h,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var E,I=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof I&&(C?p((function(){b.valueOf.call(i)})):r(i)!=h)?c(new _(g(t)),i,I):g(t)},S=a?d(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;S.length>w;w++)n(_,E=S[w])&&!n(I,E)&&v(I,E,f(_,E));I.prototype=b,b.constructor=I,l(o,h,I)}},c8d2:function(e,t,i){var a=i("d039"),o=i("5899"),s="​᠎";e.exports=function(e){return a((function(){return!!o[e]()||s[e]()!=s||o[e].name!==e}))}},cb29:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-title"},[i("div",{staticClass:"title-container"},[i("h3",[e._v("Список сотрудников")]),i("div",{staticClass:"title-btn-container"},[i("button",{staticClass:"btn-flat btn-title",on:{click:function(t){return e.updateCollection("employees")}}},[i("i",{staticClass:"material-icons"},[e._v("autorenew")])])])]),i("AddCardEmployees",{on:{"add-employee":e.addEmployee}})],1),i("div",[e.employees.length?i("ListEmployees",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):i("div",{staticClass:"empty-list"},[i("h5",{staticClass:"empty-list-title"},[i("i",{staticClass:"material-icons"},[e._v("mood_bad")]),e._v(" Сотрудников не осталось!")]),i("p",[e._v("Добавьте сотрудника, чтобы начать работать над ним.")])])],1)])},o=[],s=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",e._l(e.employees,(function(t){return i("CardEmployees",{key:t.id,attrs:{employee:t},on:{"remove-employee":e.removeEmployee}})})),1)}),l=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[e.popupShow?i("Popup",{attrs:{"popup-title":"Удалить сотрудника?"},on:{yes:function(t){return e.$emit("remove-employee",e.employee.id)},no:e.popupHidden}}):e._e(),i("div",{staticClass:"col s12"},[i("div",{staticClass:"card-panel blue darken-1 white-text"},[i("div",{staticClass:"card-content dark-text card-line"},[i("div",{staticClass:"info-container"},[i("h6",[i("i",{staticClass:"material-icons"},[e._v("email")]),e._v(" Почта: "+e._s(e.employee.email))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("person")]),e._v(" Сотрудник: "+e._s(e.employee.name)+" "+e._s(e.employee.surname))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("location_city")]),e._v(" Город: "+e._s(e.employee.city))]),e.employee.edited?i("p",{staticClass:"card-report"},[i("i",{staticClass:"material-icons"},[e._v("report")]),e._v(" Карточка сейчас редактируется другим сотрудником ")]):e._e()]),i("div",{staticClass:"button-container"},[e.employee.edited?e._e():i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:e.editedEmployeeStatus}},[i("i",{staticClass:"material-icons"},[e._v("create")]),e._v(" Редактировать ")]),e.employee.edited?i("router-link",{staticClass:"btn-flat waves-effect waves-light auth-submit blue-text text-lighten-3",attrs:{to:"/employees/editor"}},[i("i",{staticClass:"material-icons"},[e._v("border_color")]),e._v(" Редактировать принудительно ")]):e._e(),e.employee.edited?e._e():i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:e.popupVisibility}},[i("i",{staticClass:"material-icons"},[e._v("delete")]),e._v(" Удалить ")])],1)])])])],1)},r=[],c=(i("c740"),i("a9e3"),i("3905")),m={name:"CardEmployees",components:{Popup:c["a"]},props:{employee:{type:Object},index:Number},data:function(){return{employees:[],popupShow:!1}},methods:{popupVisibility:function(){this.popupShow=!0},popupHidden:function(){this.popupShow=!1},editedEmployeeStatus:function(){var e=this;if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(i){localStorage.removeItem("employees")}var t=this.employees.findIndex((function(t){return t.id===e.employee.id}));this.employees[t].edited=!0,this.saveEmployees(),this.$router.push("/employees/editor")},saveEmployees:function(){var e=JSON.stringify(this.employees);localStorage.setItem("employees",e)}},mounted:function(){if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(e){localStorage.removeItem("employees")}}},p=m,u=(i("facc"),i("2877")),d=Object(u["a"])(p,n,r,!1,null,"f5895612",null),f=d.exports,v={name:"ListEmployees",components:{CardEmployees:f},methods:{removeEmployee:function(e){this.$emit("remove-employee",e)}},props:["employees"]},y=v,h=(i("a198"),Object(u["a"])(y,s,l,!1,null,"f7c76806",null)),_=h.exports,b=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"button-container",on:{submit:function(t){return t.preventDefault(),e.submitEmployee(t)}}},[i("div",{staticClass:"input-field input-field-blue"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input-add",class:{invalid:e.$v.email.$dirty&&!e.$v.email.required||e.$v.email.$dirty&&!e.$v.email.email},attrs:{id:"email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("label",{attrs:{for:"email"}},[e._v("Почта")]),e.$v.email.$dirty&&!e.$v.email.required?i("small",{staticClass:"helper-text invalid"},[e._v("Введите email сотрудника")]):e.$v.email.$dirty&&!e.$v.email.email?i("small",{staticClass:"helper-text invalid"},[e._v("Введите правильно email ")]):e.coincidence?i("small",{staticClass:"helper-text invalid"},[e._v(" Email уже есть ")]):e._e()]),e._m(0)])},C=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit blue darken-1 white-text",attrs:{type:"submit"}},[i("i",{staticClass:"material-icons"},[e._v("add")]),e._v(" Добавить сотрудника ")])}],g=(i("d3b7"),i("25f0"),i("498a"),i("b85c")),E=i("b5ae"),I={name:"AddCardEmployees",data:function(){return{email:"",coincidence:!1,employees:[{}]}},validations:{email:{email:E["email"],required:E["required"]}},methods:{submitEmployee:function(){if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(o){localStorage.removeItem("employees")}if(this.$v.$invalid)this.$v.$touch();else{var e,t=Object(g["a"])(this.employees);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(void 0!==i.email){if(i.email.toString().toLowerCase()===this.email.toString().toLowerCase()){this.coincidence=!0;break}this.coincidence=!1}}}catch(s){t.e(s)}finally{t.f()}if(this.email.trim()&&!this.coincidence){var a={id:Date.now(),email:this.email,password:"",name:"Новый",surname:"Сотрудник",patronymic:"",homePhone:"",mobilePhone:"",city:"Отсутствует",duty:"",access:!1,edited:!1};this.$emit("add-employee",a),this.email=""}}}}},S=I,w=(i("153e"),Object(u["a"])(S,b,C,!1,null,"56b14e5f",null)),N=w.exports,$={name:"Employees",components:{ListEmployees:_,AddCardEmployees:N},data:function(){return{employees:[],updateTimeout:6e4}},methods:{removeEmployee:function(e){this.employees=this.employees.filter((function(t){return t.id!==e})),this.saveCollection(this.employees,"employees")},addEmployee:function(e){this.employees.push(e),this.saveCollection(this.employees,"employees")},saveCollection:function(e,t){var i=JSON.stringify(e);localStorage.setItem(t,i)},updateCollection:function(e){if(localStorage.getItem(e))try{this.employees=JSON.parse(localStorage.getItem(e))}catch(t){localStorage.removeItem(e)}}},mounted:function(){var e=this;this.updateCollection("employees"),setInterval((function(){return e.updateCollection("employees")}),this.updateTimeout)}},x=$,O=Object(u["a"])(x,a,o,!1,null,null,null);t["default"]=O.exports},cf64:function(e,t,i){},facc:function(e,t,i){"use strict";i("3663")}}]);
//# sourceMappingURL=chunk-5f85c836.ad1f32e0.js.map