(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-33e56ff7","chunk-8a3368cc"],{"0996":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.aboutStatus?t._e():r("ListWorkers",{on:{"watch-about-worker":t.watchAboutWorker}}),t.aboutStatus?r("AboutWorker",{attrs:{worker:t.aboutWorkerStatus},on:{"exit-about-worker":t.exitAboutWorker}}):t._e()],1)},i=[],n=(r("4de4"),r("c740"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.popupShow?r("Popup",{attrs:{"popup-title":"Удалить рабочего?","popup-toast":"Рабочий был удалён"},on:{yes:function(e){return t.removeWorker(t.worker)},no:t.popupHidden}}):t._e(),r("div",{staticClass:"page-title flex-between-center"},[r("div",{staticClass:"flex-center"},[r("h3",[t._v("Список рабочих")]),r("div",{staticClass:"flex-center"},[r("button",{staticClass:"btn-floating btn-page-title blue darken-1 waves-effect waves-circle waves-light",attrs:{onclick:"M.toast({html: 'Рабочие обновлены'})"},on:{click:function(e){return t.updateCollection("workers")}}},[r("i",{staticClass:"material-icons"},[t._v("autorenew")])]),r("router-link",{staticClass:"btn-floating btn-page-title blue darken-1 waves-effect waves-circle waves-light",attrs:{to:"/workers/search"}},[r("i",{staticClass:"material-icons"},[t._v("search")])])],1)]),r("AddCardWorkers",{on:{"add-worker":t.addWorker}})],1),r("section",[t.workers.length?r("TableWorkers",{attrs:{workers:t.workers},on:{"popup-visibility":t.popupVisibility,"edited-worker-status":t.editedWorkerStatus,"watch-about-worker":t.watchAboutWorker}}):r("div",{staticClass:"empty-list"},[r("h5",{staticClass:"empty-list-title"},[r("i",{staticClass:"material-icons"},[t._v("mood_bad")]),t._v(" Рабочих не осталось!")]),r("p",[t._v("Добавьте рабочего, чтобы начать работать над ним.")])])],1)],1)}),o=[],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"flex-center",on:{submit:function(e){return e.preventDefault(),t.submitWorkers(e)}}},[r("div",{staticClass:"input-field input-field-blue"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.number,expression:"number",modifiers:{trim:!0}},{name:"mask",rawName:"v-mask",value:"+7 (###) ###-##-##",expression:"'+7 (###) ###-##-##'"}],staticClass:"input-add",class:{invalid:t.$v.number.$dirty&&!t.$v.number.required||t.$v.number.$dirty&&!t.$v.number.minLength},attrs:{type:"tel",id:"worker",placeholder:"+7 ( ) "},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("label",{staticClass:"active",attrs:{for:"worker"}},[t._v("Номер рабочего")]),t.$v.number.$dirty&&!t.$v.number.required?r("small",{staticClass:"helper-text invalid"},[t._v(" Введите номер рабочего ")]):t.$v.number.$dirty&&!t.$v.number.minLength?r("small",{staticClass:"helper-text invalid"},[t._v(" Номер должен содержать не менее "+t._s(t.$v.number.$params.minLength.min)+" символов. ")]):t.coincidence?r("small",{staticClass:"helper-text invalid"},[t._v(" Номер уже есть ")]):t._e()]),t._m(0)])},c=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn-floating btn-page-title blue darken-1 waves-effect waves-circle waves-light",attrs:{title:"Добавить рабочего",type:"submit"}},[r("i",{staticClass:"material-icons"},[t._v("add")])])}],u=(r("d3b7"),r("25f0"),r("498a2"),r("b85c")),l=r("b5ae"),v=r("3a60"),_={name:"AddCardSWorkers",data:function(){return{number:"",coincidence:!1,workers:[{}]}},directives:{mask:v["mask"]},validations:{number:{required:l["required"],minLength:Object(l["minLength"])(7)}},methods:{submitWorkers:function(){if(localStorage.getItem("workers"))try{this.workers=JSON.parse(localStorage.getItem("workers"))}catch(i){localStorage.removeItem("workers")}if(console.log(this.number),this.$v.$invalid)this.$v.$touch();else{var t,e=Object(u["a"])(this.workers);try{for(e.s();!(t=e.n()).done;){var r=t.value;if(void 0!==r.mobilePhone){if(r.mobilePhone.toString().toLowerCase()===this.number.toString().toLowerCase()){this.coincidence=!0;break}this.coincidence=!1}}}catch(n){e.e(n)}finally{e.f()}if(this.number.trim()&&!this.coincidence){var s={id:Date.now(),name:"Новый",surname:"Рабочий",patronymic:"",accountNumber:Date.now(),nameCard:"",surnameCard:"",patronymicCard:"",accountNumberCard:"",bank:"",age:"",sex:"",city:"Отсутствует",nationality:"",passportID:"",passportDate:"",passportIssued:"",registration:"",address:"",homePhone:"",mobilePhone:this.number,medicalBook:"",education:"",university:"",previousWork:"",reasonComing:"",professions:"",nightShift:"",checkMVD:"",dateInterview:"",uniform:"",fired:"",edited:!1,editedCount:0};this.$emit("add-worker",s),this.number=""}}}}},d=_,h=(r("dfc1"),r("2877")),p=Object(h["a"])(d,a,c,!1,null,"189855e7",null),f=p.exports,m=r("fd8a"),k=r("3905"),w={name:"ListWorkers",components:{AddCardWorkers:f,TableWorkers:m["a"],Popup:k["a"]},data:function(){return{workers:[],popupShow:!1,worker:"",updateTimeout:6e4}},methods:{watchAboutWorker:function(t){this.$emit("watch-about-worker",t)},popupVisibility:function(t){this.popupShow=!0,this.worker=t},popupHidden:function(){this.popupShow=!1},removeWorker:function(t){this.workers=this.workers.filter((function(e){return e.id!==t})),this.saveCollection(this.workers,"workers"),this.popupHidden()},addWorker:function(t){this.workers.push(t),this.saveCollection(this.workers,"workers")},saveCollection:function(t,e){var r=JSON.stringify(t);localStorage.setItem(e,r)},editedWorkerStatus:function(t){var e=this.workers.findIndex((function(e){return e.id===t}));this.workers[e].edited=!0,this.saveCollection(this.workers,"workers"),this.$router.push("/workers/editor")},updateCollection:function(t){if(localStorage.getItem(t))try{this.workers=JSON.parse(localStorage.getItem(t))}catch(e){localStorage.removeItem(t)}}},mounted:function(){var t=this;this.updateCollection("workers"),setInterval((function(){return t.updateCollection("workers")}),this.updateTimeout)}},b=w,C=Object(h["a"])(b,n,o,!1,null,null,null),g=C.exports,S=r("7a0e"),y={name:"Workers",components:{ListWorkers:g,AboutWorker:S["default"]},data:function(){return{workers:[],aboutStatus:!1,aboutWorkerStatus:"",updateTimeout:6e4}},methods:{removeWorker:function(t){this.workers=this.workers.filter((function(e){return e.id!==t})),this.saveCollection(this.workers,"workers")},addWorker:function(t){this.workers.push(t),this.saveCollection(this.workers,"workers")},watchAboutWorker:function(t){this.aboutWorkerStatus=t,this.aboutStatus=!0},exitAboutWorker:function(){this.aboutStatus=!1},saveCollection:function(t,e){var r=JSON.stringify(t);localStorage.setItem(e,r)},editedWorkerStatus:function(t){var e=this.workers.findIndex((function(e){return e.id===t}));this.workers[e].edited=!0,this.saveCollection(this.workers,"workers"),this.$router.push("/workers/editor")},updateCollection:function(t){if(localStorage.getItem(t))try{this.workers=JSON.parse(localStorage.getItem(t))}catch(e){localStorage.removeItem(t)}}},mounted:function(){var t=this;this.updateCollection("workers"),setInterval((function(){return t.updateCollection("workers")}),this.updateTimeout)}},x=y,W=Object(h["a"])(x,s,i,!1,null,null,null);e["default"]=W.exports},"21d6":function(t,e,r){"use strict";r("cf84")},"494e":function(t,e,r){},"498a2":function(t,e,r){"use strict";var s=r("23e7"),i=r("58a8").trim,n=r("c8d2");s({target:"String",proto:!0,forced:n("trim")},{trim:function(){return i(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var s=r("1d80"),i=r("5899"),n="["+i+"]",o=RegExp("^"+n+n+"*"),a=RegExp(n+n+"*$"),c=function(t){return function(e){var r=String(s(e));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(a,"")),r}};t.exports={start:c(1),end:c(2),trim:c(3)}},"65f0":function(t,e,r){var s=r("861d"),i=r("e8b5"),n=r("b622"),o=n("species");t.exports=function(t,e){var r;return i(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?s(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"7a0e":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"page-title flex-between-center"},[r("h3",[t._v('Информация о рабочем "'+t._s(t.worker.surname)+" "+t._s(t.worker.name)+'"')]),r("button",{staticClass:"btn waves-effect waves-blue pointer blue darken-1",on:{click:t.exitAboutWorker}},[r("i",{staticClass:"material-icons"},[t._v("transfer_within_a_station")]),t._v(" К Рабочим ")])]),r("section",{staticClass:"about-section"},[r("div",[t._m(0),r("h6",[t._v("Имя: "),r("span",[t._v(t._s(t.worker.name))])]),r("h6",[t._v("Фамилия: "),r("span",[t._v(t._s(t.worker.surname))])]),r("h6",[t._v("Отчество: "),r("span",[t._v(t._s(t.worker.patronymic))])])]),r("div",[t._m(1),r("h6",[t._v("День рождение: "),r("span",[t._v(t._s(t.worker.birthday))])]),r("h6",[t._v("Возраст: "),r("span",[t._v(t._s(t.worker.age))])]),r("h6",[t._v("Пол: "),r("span",[t._v(t._s(t.worker.sex))])]),r("h6",[t._v("Национальность: "),r("span",[t._v(t._s(t.worker.nationality))])]),r("h6",[t._v("Мед.книжка: "),r("span",[t._v(t._s(t.worker.medicalBook))])]),r("h6",[t._v("Образование: "),r("span",[t._v(t._s(t.worker.education))])]),r("h6",[t._v("ВУЗ: "),r("span",[t._v(t._s(t.worker.university))])])]),r("div",[t._m(2),t._m(3),r("h6",[t._v("Номер паспорта: "),r("span",[t._v(t._s(t.worker.passportID))])]),r("h6",[t._v("Дата выдачи паспорта: "),r("span",[t._v(t._s(t.worker.passportDate))])]),r("h6",[t._v("Кем выдан: "),r("span",[t._v(t._s(t.worker.passportIssued))])]),r("h6",[t._v("Прописка: "),r("span",[t._v(t._s(t.worker.registration))])]),r("h6",[t._v("Адрес: "),r("span",[t._v(t._s(t.worker.address))])])]),r("div",[t._m(4),r("h6",[t._v("Имя держателя карты: "),r("span",[t._v(t._s(t.worker.nameCard))])]),r("h6",[t._v("Фамилия держателя карты: "),r("span",[t._v(t._s(t.worker.surnameCard))])]),r("h6",[t._v("Отчество держателя карты: "),r("span",[t._v(t._s(t.worker.patronymicCard))])]),r("h6",[t._v("Номер счёта: "),r("span",[t._v(t._s(t.worker.accountNumberCard))])]),r("h6",[t._v("Банк: "),r("span",[t._v(t._s(t.worker.bank))])])]),r("div",[t._m(5),r("h6",[t._v("Город: "),r("span",[t._v(t._s(t.worker.city))])]),r("h6",[t._v("Мобильный телефон: "),r("span",[t._v(t._s(t.worker.mobilePhone))])]),r("h6",[t._v("Мобильный телефон: "),r("span",[t._v(t._s(t.worker.homePhone))])])]),r("div",[t._m(6),r("h6",[t._v("Учётный номер: "),r("span",[t._v(t._s(t.worker.accountNumber))])]),r("h6",[t._v("Прежняя работа: "),r("span",[t._v(t._s(t.worker.previousWork))])]),r("h6",[t._v("Почему пришёл к нам: "),r("span",[t._v(t._s(t.worker.reasonComing))])]),r("h6",[t._v("Профессия: "),r("span",[t._v(t._s(t.worker.professions))])]),r("h6",[t._v("Ночная смена: "),r("span",[t._v(t._s(t.worker.nightShift))])]),r("h6",[t._v("Проверка МВД: "),r("span",[t._v(t._s(t.worker.checkMVD))])]),r("h6",[t._v("Дата собеседования: "),r("span",[t._v(t._s(t.worker.dateInterview))])]),r("h6",[t._v("Униформа: "),r("span",[t._v(t._s(t.worker.uniform))])]),r("h6",[t._v("Уволен: "),r("span",[t._v(t._s(t.worker.fired))])])]),r("div",[t._m(7),r("h6",[t._v("Идентификационный номер: "),r("span",[t._v(t._s(t.worker.id))])]),r("h6",[t._v("Сейчас редактируется: "),r("span",[t._v(t._s(t._f("booleanToWord")(t.worker.edited)))])]),r("h6",[t._v("Сколько раз редактировался: "),r("span",[t._v(t._s(t.worker.editedCount))])])])])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("account_box")]),t._v(" ФИО")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("assignment")]),t._v(" Личные данные")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("book")]),t._v(" Паспортные данные")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h6",[t._v("Скан: "),r("span",[r("a",[t._v("Скачать")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("account_balance_wallet")]),t._v(" Банковские данные")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("local_phone")]),t._v(" Контактные данные")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("rate_review")]),t._v(" Рабочие данные")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("h5",[r("i",{staticClass:"material-icons"},[t._v("assessment")]),t._v(" Системные данные")])}],n={name:"AboutWorker",props:["worker"],methods:{exitAboutWorker:function(){this.$emit("exit-about-worker")}},filters:{booleanToWord:function(t){return!0===t?"Да":"Нет"}}},o=n,a=(r("21d6"),r("2877")),c=Object(a["a"])(o,s,i,!1,null,"3e703e62",null);e["default"]=c.exports},ae40:function(t,e,r){var s=r("83ab"),i=r("d039"),n=r("5135"),o=Object.defineProperty,a={},c=function(t){throw t};t.exports=function(t,e){if(n(a,t))return a[t];e||(e={});var r=[][t],u=!!n(e,"ACCESSORS")&&e.ACCESSORS,l=n(e,0)?e[0]:c,v=n(e,1)?e[1]:void 0;return a[t]=!!r&&!i((function(){if(u&&!s)return!0;var t={length:-1};u?o(t,1,{enumerable:!0,get:c}):t[1]=1,r.call(t,l,v)}))}},b727:function(t,e,r){var s=r("0366"),i=r("44ad"),n=r("7b0b"),o=r("50c4"),a=r("65f0"),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,v=6==t,_=5==t||v;return function(d,h,p,f){for(var m,k,w=n(d),b=i(w),C=s(h,p,3),g=o(b.length),S=0,y=f||a,x=e?y(d,g):r?y(d,0):void 0;g>S;S++)if((_||S in b)&&(m=b[S],k=C(m,S,w),t))if(e)x[S]=k;else if(k)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:c.call(x,m)}else if(l)return!1;return v?-1:u||l?l:x}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},c8d2:function(t,e,r){var s=r("d039"),i=r("5899"),n="​᠎";t.exports=function(t){return s((function(){return!!i[t]()||n[t]()!=n||i[t].name!==t}))}},cf84:function(t,e,r){},dfc1:function(t,e,r){"use strict";r("494e")},e8b5:function(t,e,r){var s=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==s(t)}},fd8a:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",[t._m(0),t._l(t.workers,(function(e){return r("tr",{key:e.value},[r("td",[t._v(t._s(e.surname))]),r("td",[t._v(t._s(e.name))]),r("td",[t._v(t._s(e.patronymic))]),r("td",[t._v(t._s(e.sex))]),r("td",[t._v(t._s(e.age))]),r("td",[t._v(t._s(e.medicalBook))]),r("td",[t._v(t._s(e.city))]),r("td",[t._v(t._s(e.mobilePhone))]),r("td",[t._v(t._s(e.professions))]),r("td",[r("div",{staticClass:"flex-center"},[r("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть"},on:{click:function(r){return r.preventDefault(),t.watchAboutWorker(e)}}},[r("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),e.edited?t._e():r("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(r){return r.preventDefault(),t.popupVisibility(e.id)}}},[r("i",{staticClass:"material-icons"},[t._v("delete")])]),r("button",{staticClass:"btn-transparent transparent waves-effect auth-submit blue-text text-darken-1",attrs:{title:"Редактировать"},on:{click:function(r){return r.preventDefault(),t.editedWorkerStatus(e.id)}}},[r("i",{staticClass:"material-icons"},[t._v("create")])])])])])}))],2)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("th",[t._v("Фамилия")]),r("th",[t._v("Имя")]),r("th",[t._v("Отчество")]),r("th",[t._v("Пол")]),r("th",[t._v("Возраст")]),r("th",[t._v("Мед.книжка")]),r("th",[t._v("Город")]),r("th",[t._v("Телефон")]),r("th",[t._v("Профессия")]),r("th")])}],n={name:"TableWorkers",methods:{popupVisibility:function(t){this.$emit("popup-visibility",t)},editedWorkerStatus:function(t){this.$emit("edited-worker-status",t)},watchAboutWorker:function(t){this.$emit("watch-about-worker",t)}},props:["workers"]},o=n,a=r("2877"),c=Object(a["a"])(o,s,i,!1,null,"1f0810bd",null);e["a"]=c.exports},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-33e56ff7.4eb63c48.js.map