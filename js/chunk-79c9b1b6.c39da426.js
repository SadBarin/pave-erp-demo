(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-79c9b1b6"],{"4de4":function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").filter,i=s("1dde"),n=s("ae40"),o=i("filter"),l=n("filter");a({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"533e":function(t,e,s){},8308:function(t,e,s){"use strict";s("533e")},c740:function(t,e,s){"use strict";var a=s("23e7"),r=s("b727").findIndex,i=s("44d2"),n=s("ae40"),o="findIndex",l=!0,c=n(o);o in[]&&Array(1)[o]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!c},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(o)},c975:function(t,e,s){"use strict";var a=s("23e7"),r=s("4d64").indexOf,i=s("a640"),n=s("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),u=n("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},d8e2:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[t.popupShow?s("Popup",{attrs:{"popup-toast":"Рабочий "+t.worker.surname+" "+t.worker.name+" был(а) удалён!"},on:{yes:function(e){return t.removeWorker(t.worker.id)},no:t.popupHidden},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Удалить? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(' После нажатия кнопки "да" будет удалён рабочий '),s("b",[t._v(t._s(t.worker.surname)+" "+t._s(t.worker.name))])]},proxy:!0}],null,!1,1899014767)}):t._e(),s("div",{staticClass:"page-title flex-between-center"},[s("h3",[t._v("Поиск рабочих")]),s("button",{staticClass:"btn waves-effect waves-light auth-submit blue darken-1",on:{click:function(e){return t.searchAll()}}},[s("i",{staticClass:"material-icons"},[t._v("search")]),t._v(" Поиск ")])]),s("section",[s("div",{staticClass:"row"},[s("div",{staticClass:"col s12"},[s("div",[s("form",[s("div",[t._m(0),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-1"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label active",attrs:{for:"name"}},[t._v("Имя")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.name,expression:"searchInput.name",modifiers:{trim:!0}}],attrs:{id:"name",type:"text"},domProps:{value:t.searchInput.name},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"name",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"surname"}},[t._v("Фамилия")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.surname,expression:"searchInput.surname",modifiers:{trim:!0}}],attrs:{id:"surname",type:"text"},domProps:{value:t.searchInput.surname},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"surname",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"patronymic"}},[t._v("Отчество")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.patronymic,expression:"searchInput.patronymic",modifiers:{trim:!0}}],attrs:{id:"patronymic",type:"text"},domProps:{value:t.searchInput.patronymic},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"patronymic",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-2"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"age"}},[t._v("Возраст")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.age,expression:"searchInput.age",modifiers:{trim:!0}}],attrs:{id:"age",type:"number"},domProps:{value:t.searchInput.age},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"age",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Пол")]),s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.sex,expression:"searchInput.sex",modifiers:{trim:!0}}],staticClass:"browser-default editor-select",attrs:{id:"sex"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"sex",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),s("option",{staticClass:"editor-option",attrs:{value:"Мужской"}},[t._v("Мужской")]),s("option",{staticClass:"editor-option",attrs:{value:"Женский"}},[t._v("Женский")])])]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Мед. Книга")]),s("select",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.medicalBook,expression:"searchInput.medicalBook",modifiers:{trim:!0}}],staticClass:"browser-default editor-select",attrs:{id:"medicalBook"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"medicalBook",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),s("option",{staticClass:"editor-option",attrs:{value:"Есть"}},[t._v("Есть")]),s("option",{staticClass:"editor-option",attrs:{value:"Отсутствует"}},[t._v("Отсутствует")])])])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-3"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Город")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.city,expression:"searchInput.city"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"city",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(t.sites,(function(e){return s("option",{key:e.cityName,staticClass:"editor-option"},[t._v(" "+t._s(e.cityName)+" ")])}))],2)]),s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label",attrs:{for:"mobilePhone"}},[t._v("Тел. Моб.")]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchInput.mobilePhone,expression:"searchInput.mobilePhone",modifiers:{trim:!0}}],attrs:{id:"mobilePhone",type:"tel"},domProps:{value:t.searchInput.mobilePhone},on:{input:function(e){e.target.composing||t.$set(t.searchInput,"mobilePhone",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])])]),s("div",{staticClass:"tabs-content",attrs:{id:"search-swipe-4"}},[s("div",{staticClass:"flex-column-center"},[s("div",{staticClass:"input-field editor-input flex-center"},[s("label",{staticClass:"editor-label"},[t._v("Профессия")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.searchInput.professions,expression:"searchInput.professions"}],staticClass:"browser-default editor-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchInput,"professions",e.target.multiple?s:s[0])}}},[s("option",{staticClass:"editor-option",attrs:{selected:"",value:""}},[t._v("Не отмечено")]),t._l(t.searchingProfessions(),(function(e){return s("option",{key:e,staticClass:"editor-option"},[t._v(" "+t._s(e)+" ")])}))],2)])])])]),s("div",{staticClass:"col s12 black-text"},[s("h4",[t._v("Найдено")]),t.workers.length?s("TableWorkers",{attrs:{workers:t.searchWorkers,eye:!1},on:{"popup-visibility":t.popupVisibility,"edited-worker-status":t.editedWorkerStatus}}):t._e()],1)])])])])])],1)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",{staticClass:"tabs flex-center",attrs:{id:"tabs-swipe"}},[s("li",{staticClass:"tab"},[s("a",{staticClass:"active flex-center",attrs:{href:"#search-swipe-1"}},[s("i",{staticClass:"material-icons"},[t._v("account_box")]),t._v("ФИО")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-2"}},[s("i",{staticClass:"material-icons"},[t._v("assignment")]),t._v("Личные данные")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-3"}},[s("i",{staticClass:"material-icons"},[t._v("local_phone")]),t._v("Контактные данные")])]),s("li",{staticClass:"tab"},[s("a",{staticClass:"flex-center",attrs:{href:"#search-swipe-4"}},[s("i",{staticClass:"material-icons"},[t._v("rate_review")]),t._v("Рабочие данные")])])])}],i=(s("4de4"),s("c740"),s("4160"),s("c975"),s("159b"),s("4d5c")),n=s.n(i),o=s("3905"),l=s("fd8a"),c={name:"SearchWorkers",components:{Popup:o["a"],TableWorkers:l["a"]},data:function(){return{workers:[],sites:[],popupShow:!1,worker:"",searchInput:{name:"",surname:"",patronymic:"",age:"",city:"",mobilePhone:"",professions:"",sex:"",medicalBook:""},searchWorkers:""}},methods:{popupVisibility:function(t){this.popupShow=!0,this.worker=t},popupHidden:function(){this.popupShow=!1},searching:function(t){return function(e,s){if(""!==s)return t.filter((function(t){return t[e].toLowerCase()===s.toLowerCase()}))}},searchAll:function(){var t=this.workers;for(var e in this.searchInput){var s=this.searching(t),a=s(e,this.searchInput[e]);void 0!==a&&(t=a)}this.searchWorkers=t,this.searchingProfessions()},searchingProfessions:function(){var t=[];return this.workers.forEach((function(e){-1===t.indexOf(e.professions)&&t.push(e.professions)})),t},editedWorkerStatus:function(t){var e=this.workers.findIndex((function(e){return e.id===t}));this.workers[e].edited=!0,this.saveCollection(this.workers,"workers"),this.$router.push("/workers/editor")},removeWorker:function(t){this.workers=this.workers.filter((function(e){return e.id!==t})),this.saveCollection(this.workers,"workers"),this.popupHidden(),this.searchWorkers=this.workers},addWorker:function(t){this.workers.push(t),this.saveCollection(this.workers,"workers")},saveCollection:function(t,e){var s=JSON.stringify(t);localStorage.setItem(e,s)},updateCollection:function(t){if(localStorage.getItem(t))try{this.workers=JSON.parse(localStorage.getItem(t))}catch(e){localStorage.removeItem(t)}}},mounted:function(){if(this.updateCollection("workers"),this.searchWorkers=this.workers,localStorage.getItem("sites"))try{this.sites=JSON.parse(localStorage.getItem("sites"))}catch(s){localStorage.removeItem("sites")}var t=document.querySelectorAll(".collapsible");t.forEach((function(t){n.a.Collapsible.init(t)}));var e=document.querySelectorAll(".tabs");e.forEach((function(t){n.a.Tabs.init(t)}))}},u=c,p=(s("8308"),s("2877")),d=Object(p["a"])(u,a,r,!1,null,"7c1efd0e",null);e["default"]=d.exports},fd8a:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",["admin"===t.dataThisEmployee.access?s("table",[t._m(0),t._l(t.workers,(function(e){return s("tr",{key:e.value},[s("td",[t._v(t._s(e.surname))]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.patronymic))]),s("td",[t._v(t._s(e.sex))]),s("td",[t._v(t._s(e.age))]),s("td",[t._v(t._s(e.medicalBook))]),s("td",[t._v(t._s(e.city))]),s("td",[t._v(t._s(e.mobilePhone))]),s("td",[t._v(t._s(e.professions))]),s("td",[s("div",{staticClass:"flex-center"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.eye,expression:"eye"}],staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть"},on:{click:function(s){return s.preventDefault(),t.watchAboutWorker(e)}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(s){return s.preventDefault(),t.popupVisibility(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])]),s("button",{staticClass:"btn-transparent transparent waves-effect auth-submit blue-text text-darken-1",attrs:{title:"Редактировать"},on:{click:function(s){return s.preventDefault(),t.editedWorkerStatus(e.id)}}},[s("i",{staticClass:"material-icons"},[t._v("create")])])])])])}))],2):s("table",[t._m(1),t._l(t.workers,(function(e){return s("tr",{directives:[{name:"show",rawName:"v-show",value:e.city===t.dataThisEmployee.city,expression:"worker.city === dataThisEmployee.city"}],key:e.value},[s("td",[t._v(t._s(e.surname))]),s("td",[t._v(t._s(e.name))]),s("td",[t._v(t._s(e.patronymic))]),s("td",[t._v(t._s(e.sex))]),s("td",[t._v(t._s(e.age))]),s("td",[t._v(t._s(e.medicalBook))]),s("td",[t._v(t._s(e.city))]),s("td",[t._v(t._s(e.mobilePhone))]),s("td",[t._v(t._s(e.professions))]),s("td",[s("div",{staticClass:"flex-center"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.eye,expression:"eye"}],staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть"},on:{click:function(s){return s.preventDefault(),t.watchAboutWorker(e)}}},[s("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]),e.edited?t._e():s("button",{staticClass:"btn-transparent btn-remove transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(s){return s.preventDefault(),t.popupVisibility(e)}}},[s("i",{staticClass:"material-icons"},[t._v("delete")])]),s("button",{staticClass:"btn-transparent transparent waves-effect auth-submit blue-text text-darken-1",attrs:{title:"Редактировать"},on:{click:function(s){return s.preventDefault(),t.editedWorkerStatus(e.id)}}},[s("i",{staticClass:"material-icons"},[t._v("create")])])])])])}))],2)])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Фамилия")]),s("th",[t._v("Имя")]),s("th",[t._v("Отчество")]),s("th",[t._v("Пол")]),s("th",[t._v("Возраст")]),s("th",[t._v("Мед.книжка")]),s("th",[t._v("Город")]),s("th",[t._v("Телефон")]),s("th",[t._v("Профессия")]),s("th")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("Фамилия")]),s("th",[t._v("Имя")]),s("th",[t._v("Отчество")]),s("th",[t._v("Пол")]),s("th",[t._v("Возраст")]),s("th",[t._v("Мед.книжка")]),s("th",[t._v("Город")]),s("th",[t._v("Телефон")]),s("th",[t._v("Профессия")]),s("th")])}],i={name:"TableWorkers",data:function(){return{dataThisEmployee:""}},methods:{popupVisibility:function(t){this.$emit("popup-visibility",t)},editedWorkerStatus:function(t){this.$emit("edited-worker-status",t)},watchAboutWorker:function(t){this.$emit("watch-about-worker",t)}},props:["workers","eye"],mounted:function(){if(localStorage.getItem("dataThisEmployee"))try{this.dataThisEmployee=JSON.parse(localStorage.getItem("dataThisEmployee"))}catch(t){localStorage.removeItem("dataThisEmployee")}}},n=i,o=s("2877"),l=Object(o["a"])(n,a,r,!1,null,"1fb2563c",null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-79c9b1b6.c39da426.js.map