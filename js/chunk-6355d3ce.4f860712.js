(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6355d3ce"],{"0996":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"page-title"},[r("div",{staticClass:"title-container"},[r("h3",[t._v("Список рабочих")]),r("div",{staticClass:"title-btn-container"},[r("button",{staticClass:"btn-flat btn-title",on:{click:function(e){return t.updateCollection("workers")}}},[r("i",{staticClass:"material-icons"},[t._v("autorenew")])]),r("router-link",{staticClass:"btn-flat btn-title",attrs:{to:"/workers/search"}},[r("i",{staticClass:"material-icons"},[t._v("search")])])],1)]),r("AddCardWorkers",{on:{"add-worker":t.addWorker}})],1),r("div",[t.workers.length?r("ListWorkers",{attrs:{workers:t.workers},on:{"remove-worker":t.removeWorker}}):r("div",{staticClass:"empty-list"},[r("h5",{staticClass:"empty-list-title"},[r("i",{staticClass:"material-icons"},[t._v("mood_bad")]),t._v(" Рабочих не осталось!")]),r("p",[t._v("Добавьте рабочего, чтобы начать работать над ним.")])])],1)])},i=[],a=(r("4de4"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("form",{staticClass:"button-container",on:{submit:function(e){return e.preventDefault(),t.submitWorkers(e)}}},[r("div",{staticClass:"input-field input-field-blue"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.number,expression:"number",modifiers:{trim:!0}}],staticClass:"input-add",class:{invalid:t.$v.number.$dirty&&!t.$v.number.required||t.$v.number.$dirty&&!t.$v.number.numeric||t.$v.number.$dirty&&!t.$v.number.minLength},attrs:{type:"text",id:"worker"},domProps:{value:t.number},on:{input:function(e){e.target.composing||(t.number=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),r("label",{attrs:{for:"worker"}},[t._v("Номер рабочего")]),t.$v.number.$dirty&&!t.$v.number.numeric||t.$v.number.$dirty&&!t.$v.number.required?r("small",{staticClass:"helper-text invalid"},[t._v(" Введите номер рабочего ")]):t.$v.number.$dirty&&!t.$v.number.minLength?r("small",{staticClass:"helper-text invalid"},[t._v(" Номер должен содержать не менее "+t._s(t.$v.number.$params.minLength.min)+" символов. ")]):t._e()]),t._m(0)])}),n=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"btn-flat waves-effect waves-light auth-submit blue darken-1 white-text",attrs:{type:"submit"}},[r("i",{staticClass:"material-icons"},[t._v("add")]),t._v(" Добавить рабочего ")])}],o=(r("498a"),r("b5ae")),c={name:"AddCardSWorkers",data:function(){return{number:""}},validations:{number:{required:o["required"],numeric:o["numeric"],minLength:Object(o["minLength"])(7)}},methods:{submitWorkers:function(){if(this.$v.$invalid)this.$v.$touch();else if(this.number.trim()){var t={id:Date.now(),name:Date.now(),surname:"",patronymic:"",accountNumber:"",number:this.number,nameCard:"",surnameCard:"",patronymicCard:"",accountNumberCard:"",bank:"",birthday:"",sex:"",nationality:"",passportID:"",passportDate:"",passportIssued:"",registration:"",address:"",homePhone:"",mobilePhone:"",medicalBook:"",education:"",university:"",previousWork:"",reasonComing:"",professions:"",nightShift:"",checkMVD:"",dateInterview:"",uniform:"",fired:"",edited:!1};this.$emit("add-worker",t),this.number=""}}}},l=c,u=(r("8e79"),r("2877")),d=Object(u["a"])(l,a,n,!1,null,"448e79dd",null),m=d.exports,v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",t._l(t.workers,(function(e){return r("CardWorkers",{key:e.id,attrs:{worker:e},on:{"remove-worker":t.removeWorker}})})),1)},k=[],h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row"},[t.overlayShow?[r("div",{staticClass:"popup-overlay"},[r("form",{staticClass:"card auth-card popup"},[r("div",{staticClass:"card-content"},[t._m(0),r("span",{staticClass:"popup-subtitle"},[t._v("Рабочий: "+t._s(t.worker.name))])]),r("div",{staticClass:"card-action btn-popup"},[r("button",{staticClass:"btn-flat white-text waves-effect waves-light auth-submit blue darken-1",attrs:{type:"submit"},on:{click:function(e){return t.$emit("remove-worker",t.worker.id)}}},[r("i",{staticClass:"material-icons"},[t._v("check")]),t._v(" Да ")]),r("button",{staticClass:"btn-flat white-text waves-effect waves-light auth-submit blue darken-1",attrs:{type:"submit"},on:{click:t.overlayHidden}},[r("i",{staticClass:"material-icons"},[t._v("clear")]),t._v(" Нет ")])])])])]:t._e(),r("div",{staticClass:"col s12"},[r("div",{staticClass:"card-panel blue darken-1 white-text"},[r("div",{staticClass:"card-content dark-text card-line"},[r("div",{staticClass:"info-container"},[r("h6",[r("i",{staticClass:"material-icons"},[t._v("face")]),t._v(" Рабочий: "+t._s(t.worker.name)+" "+t._s(t.worker.surname)+" "+t._s(t.worker.patronymic))]),r("h6",[r("i",{staticClass:"material-icons"},[t._v("phone")]),t._v(" Номер: "+t._s(t.worker.number))])]),r("div",{staticClass:"button-container"},[t.worker.edited?t._e():r("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:t.editedWorkerStatus}},[r("i",{staticClass:"material-icons"},[t._v("create")]),t._v(" Редактировать ")]),t.worker.edited?r("router-link",{staticClass:"btn-flat waves-effect waves-light auth-submit blue-text text-lighten-3",attrs:{to:"/workers/editor"}},[r("i",{staticClass:"material-icons"},[t._v("border_color")]),t._v(" Редактировать принудительно ")]):t._e(),t.worker.edited?t._e():r("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:t.overlayVisibility}},[r("i",{staticClass:"material-icons"},[t._v("delete")]),t._v(" Удалить ")])],1)])])])],2)},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("span",{staticClass:"card-title"},[t._v("Удалить элемент? "),r("br")])}],f=(r("c740"),r("a9e3"),{name:"CardWorkers",props:{worker:{type:Object},index:Number},data:function(){return{workers:[],overlayShow:!1}},methods:{overlayVisibility:function(){this.overlayShow=!0},overlayHidden:function(){this.overlayShow=!1},editedWorkerStatus:function(){var t=this,e=this.workers.findIndex((function(e){return e.id===t.worker.id}));this.workers[e].edited=!0,this.saveWorkers(),this.$router.push("/workers/editor")},saveWorkers:function(){var t=JSON.stringify(this.workers);localStorage.setItem("workers",t)}},mounted:function(){if(localStorage.getItem("workers"))try{this.workers=JSON.parse(localStorage.getItem("workers"))}catch(t){localStorage.removeItem("workers")}}}),w=f,p=(r("80a6"),Object(u["a"])(w,h,b,!1,null,"5bdbd6dc",null)),C=p.exports,_={name:"ListWorkers",components:{CardWorkers:C},methods:{removeWorker:function(t){this.$emit("remove-worker",t)}},props:["workers"]},y=_,$=(r("5164"),Object(u["a"])(y,v,k,!1,null,"514e5206",null)),g=$.exports,W={name:"Workers",components:{ListWorkers:g,AddCardWorkers:m},data:function(){return{workers:[],updateTimeout:6e4}},methods:{removeWorker:function(t){this.workers=this.workers.filter((function(e){return e.id!==t})),this.saveCollection(this.workers,"workers")},addWorker:function(t){this.workers.push(t),this.saveCollection(this.workers,"workers")},saveCollection:function(t,e){var r=JSON.stringify(t);localStorage.setItem(e,r)},updateCollection:function(t){if(localStorage.getItem(t))try{this.workers=JSON.parse(localStorage.getItem(t))}catch(e){localStorage.removeItem(t)}}},mounted:function(){var t=this;this.updateCollection("workers"),setInterval((function(){return t.updateCollection("workers")}),this.updateTimeout)}},x=W,S=Object(u["a"])(x,s,i,!1,null,null,null);e["default"]=S.exports},5164:function(t,e,r){"use strict";r("6865")},6865:function(t,e,r){},"80a6":function(t,e,r){"use strict";r("edf4")},"8e79":function(t,e,r){"use strict";r("e5be")},e5be:function(t,e,r){},edf4:function(t,e,r){}}]);
//# sourceMappingURL=chunk-6355d3ce.4f860712.js.map