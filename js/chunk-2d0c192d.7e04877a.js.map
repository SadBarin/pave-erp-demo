{"version":3,"sources":["webpack:///./src/components/sites/EditCity.vue?e05e","webpack:///src/components/sites/EditCity.vue","webpack:///./src/components/sites/EditCity.vue?6044","webpack:///./src/components/sites/EditCity.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","editorExit","popupHidden","scopedSlots","_u","key","fn","_v","proxy","_e","staticClass","_s","editedCity","name","$event","saveEditedCity","preventDefault","popupVisibility","directives","rawName","value","expression","modifiers","attrs","domProps","target","composing","$set","trim","$forceUpdate","staticRenderFns","mixins","popupMixin","data","computed","methods","$router","push","mounted","SET_SITES_FROM_LOCAL_STORAGE","sites","$route","params","id","component"],"mappings":"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","file":"js/chunk-2d0c192d.7e04877a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.popupShow)?_c('Popup',{on:{\"yes\":_vm.editorExit,\"no\":_vm.popupHidden},scopedSlots:_vm._u([{key:\"title-popup\",fn:function(){return [_vm._v(\" Покинуть редактор города? \")]},proxy:true},{key:\"text-info-popup\",fn:function(){return [_vm._v(\" Введённые данные не будут сохранены! \")]},proxy:true}],null,false,827608469)}):_vm._e(),_c('div',{staticClass:\"page-title flex-between-center\"},[_c('h3',[_vm._v(\"Редактор города \\\"\"+_vm._s(_vm.editedCity.name)+\"\\\"\")]),_c('div',{staticClass:\"editor-btns\"},[_c('button',{staticClass:\"btn editor-btn btn-hover blue darken-1\",on:{\"click\":function($event){return _vm.saveEditedCity(_vm.editedCity)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"exit_to_app\")]),_vm._v(\" Сохранить и выйти \")]),_c('button',{staticClass:\"btn editor-btn btn-hover blue darken-1\",on:{\"click\":function($event){$event.preventDefault();return _vm.popupVisibility($event)}}},[_c('i',{staticClass:\"material-icons\"},[_vm._v(\"location_city\")]),_vm._v(\"К Городам \")])])]),_c('section',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col s12\"},[_c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"form-content\"},[_c('div',{staticClass:\"card editor-card white darken-1 black-text\"},[_c('div',{staticClass:\"card-content flex-column-center\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(\"Общее\")]),_c('div',{staticClass:\"editor-input input-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.editedCity.name),expression:\"editedCity.name\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"id\":\"city\",\"maxlength\":\"20\"},domProps:{\"value\":(_vm.editedCity.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.editedCity, \"name\", $event.target.value.trim())},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"active\",attrs:{\"for\":\"city\"}},[_vm._v(\"Название города\")])])])])])])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Popup\r\n      v-if=\"popupShow\"\r\n      @yes=\"editorExit\"\r\n      @no=\"popupHidden\"\r\n    >\r\n      <template #title-popup>\r\n        Покинуть редактор города?\r\n      </template>\r\n\r\n      <template #text-info-popup>\r\n        Введённые данные не будут сохранены!\r\n      </template>\r\n    </Popup>\r\n\r\n    <div class=\"page-title flex-between-center\">\r\n      <h3>Редактор города \"{{ editedCity.name }}\"</h3>\r\n\r\n      <div class=\"editor-btns\">\r\n        <button\r\n          class=\"btn editor-btn btn-hover blue darken-1\"\r\n          @click=\"saveEditedCity(editedCity)\"\r\n        >\r\n          <i class=\"material-icons\">exit_to_app</i> Сохранить и выйти\r\n        </button>\r\n\r\n        <button\r\n          class=\"btn editor-btn btn-hover blue darken-1\"\r\n          @click.prevent=\"popupVisibility\"\r\n        >\r\n          <i class=\"material-icons\">location_city</i>К Городам\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <section>\r\n      <div class=\"row\">\r\n        <div class=\"col s12\">\r\n          <div>\r\n            <form @submit.prevent=\"\">\r\n              <div class=\"form-content\">\r\n                <div class=\"card editor-card white darken-1 black-text\">\r\n                  <div class=\"card-content flex-column-center\">\r\n                    <h4 class=\"card-title\">Общее</h4>\r\n\r\n                    <div class=\"editor-input input-field\">\r\n                      <input\r\n                        type=\"text\"\r\n                        id=\"city\"\r\n                        maxlength=\"20\"\r\n                        v-model.trim=\"editedCity.name\"\r\n                      >\r\n                      <label for=\"city\" class=\"active\">Название города</label>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport popupMixin from '@/mixins/popupMixin'\r\nimport firebase from 'firebase/app'\r\nimport { mapGetters, mapMutations } from 'vuex'\r\n\r\nexport default {\r\n  name: 'Sites',\r\n  mixins: [popupMixin],\r\n  data () {\r\n    return {\r\n      editedCity: ''\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'sites'\r\n    ])\r\n  },\r\n  methods: {\r\n    ...mapMutations([\r\n      'SET_SITES_FROM_SERVER',\r\n      'SET_SITES_FROM_LOCAL_STORAGE'\r\n    ]),\r\n\r\n    editorExit () {\r\n      this.$router.push('/sites')\r\n    },\r\n\r\n    saveEditedCity (city) {\r\n      firebase.database().ref('/sites/' + city.id).set(city)\r\n        .then(() => {\r\n          this.SET_SITES_FROM_SERVER()\r\n          this.editorExit()\r\n        })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.SET_SITES_FROM_LOCAL_STORAGE()\r\n    this.editedCity = this.sites[this.$route.params.id]\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCity.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCity.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCity.vue?vue&type=template&id=9b64688a&scoped=true&\"\nimport script from \"./EditCity.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCity.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b64688a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}