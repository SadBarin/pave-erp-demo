(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cef44e30"],{"1b06":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"container-line-text"}},[n("input",{staticClass:"line-text",attrs:{type:"text",maxlength:t.maxLength,id:t.inputID,placeholder:t.placeholder},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),n("label",{staticClass:"line-text-label",attrs:{for:t.inputID}},[t._v(t._s(t.label))])])},a=[],o={name:"AppInput",props:{inputID:String,placeholder:String,maxLength:String,label:String,value:String}},i=o,s=(n("f8a1"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"114e77c1",null);e["a"]=c.exports},"34b0":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app-top-panel"}},[n("h3",{staticClass:"top-panel-header"},[t._v(t._s(t.header))]),n("div",{staticClass:"top-panel-nav-buttons"},[t._t("nav-buttons")],2)])},a=[],o={name:"AppTopPanel",props:{header:String}},i=o,s=(n("be66"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"5ba3c617",null);e["a"]=c.exports},3591:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.popupShow?n("Popup",{attrs:{"popup-toast":"Рабочий "+t.worker.surname+" "+t.worker.name+" был удалён!'"},on:{yes:function(e){return t.removeWorker(t.worker)},no:function(e){return t.popupHidden()}},scopedSlots:t._u([{key:"title-popup",fn:function(){return[t._v(" Удалить? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[t._v(' После нажатия кнопки "да" будет удалён '),n("b",[t._v(t._s(t.worker.surname)+" "+t._s(t.worker.name))]),t._v("! ")]},proxy:!0}],null,!1,4174212883)}):t._e(),n("table",[t._m(0),t._l(t.workers,(function(e){return n("tr",{key:e.value,class:"Нет"===e.fired?"":"opacity-5"},[n("td",[t._v(t._s(e.surname))]),n("td",[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.patronymic))]),n("td",[t._v(t._s(e.age))]),n("td",["Просрочена"===e.medicalBookStatus?n("div",{staticClass:"red-text darken-1"},[t._v(t._s(e.medicalBookStatus))]):n("div",[t._v(t._s(e.medicalBookStatus))])]),n("td",[t._v(t._s(e.city))]),n("td",[n("a",{attrs:{href:"tel:"+e.mobilePhone,title:"Позвонить"}},[t._v(t._s(e.mobilePhone))])]),n("td",[t._v(t._s(e.professions))]),n("td",[e?n("div",{staticClass:"flex-center btns-collection"},[e?n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Просмотреть",to:{name:"workerAbout",params:{id:e.id}}}},[n("i",{staticClass:"material-icons"},[t._v("remove_red_eye")])]):t._e(),n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Календарь",to:{name:"workerCalendar",params:{id:e.id}}}},[n("i",{staticClass:"material-icons"},[t._v("date_range")])]),n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"История редактирования",to:{name:"workerHistory",params:{id:e.id}}}},[n("i",{staticClass:"material-icons"},[t._v("description")])]),n("router-link",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Редактировать",to:{name:"workerEdit",params:{id:e.id}}}},[n("i",{staticClass:"material-icons"},[t._v("create")])]),e.edited?t._e():n("button",{staticClass:"btn-transparent transparent waves-effect waves-light auth-submit blue-text text-darken-1",attrs:{title:"Удалить"},on:{click:function(n){t.popupVisibility(e),t.setWorker(e)}}},[n("i",{staticClass:"material-icons"},[t._v("delete")])])],1):t._e()])])}))],2)],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("Фамилия")]),n("th",[t._v("Имя")]),n("th",[t._v("Отчество")]),n("th",[t._v("Возраст")]),n("th",[t._v("Мед.книжка")]),n("th",[t._v("Город")]),n("th",[t._v("Телефон")]),n("th",[t._v("Профессия")]),n("th")])}],o=n("5614"),i={name:"TableWorkers",mixins:[o["a"]],props:{workers:Object},data:function(){return{worker:""}},methods:{setWorker:function(t){this.worker=t},removeWorker:function(t){this.$emit("remove-worker",t.id),this.popupHidden()}}},s=i,c=n("2877"),p=Object(c["a"])(s,r,a,!1,null,null,null);e["a"]=p.exports},"373c":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-button-container"},[t.pressed?n("div",{staticClass:"app-button pressed",attrs:{title:t.title}},[n("i",{staticClass:"material-icons app-button-icon",style:"font-size: "+t.size+" !important"},[t._v(t._s(t.icon))])]):n("button",{staticClass:"app-button",attrs:{title:t.title},on:{click:function(e){return t.$emit("button-click")}}},[n("i",{staticClass:"material-icons app-button-icon",style:"font-size: "+t.size+" !important"},[t._v(t._s(t.icon))])])])},a=[],o={name:"AppButtonIcon",props:{icon:String,size:String,title:String,pressed:Boolean}},i=o,s=(n("38c5"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"0aed6b1a",null);e["a"]=c.exports},"38c5":function(t,e,n){"use strict";n("47aa")},"45c3":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("WorkerPopupAdd",{attrs:{popupHidden:t.popupAddHidden},on:{"add-worker":t.addWorker,"popup-toggle":t.popupAddToggle}}),n("AppTopPanel",{attrs:{header:"Список рабочих"},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"autorenew",title:"Обновить страницу"},on:{"button-click":function(e){return t.updateWorkers()}}}),n("AppButtonIcon",{attrs:{icon:"search",title:"Поиск"},on:{"button-click":function(e){return t.$router.push("/workers/search")}}}),n("AppButtonIcon",{attrs:{icon:"add",title:"Добавить рабочего"},on:{"button-click":t.popupAddToggle}})]},proxy:!0}])}),n("section",[t.workers?n("TableWorkers",{attrs:{workers:t.workers},on:{"remove-worker":t.removeWorker}}):t._e()],1)],1)},a=[],o=n("5530"),i=n("2f62"),s=n("260b"),c=n("34b0"),p=n("373c"),u=n("3591"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("AppPopupWrapper",{attrs:{hidden:t.popupHidden}},[n("AppTopPanel",{attrs:{header:"Добавление рабочего"},scopedSlots:t._u([{key:"nav-buttons",fn:function(){return[n("AppButtonIcon",{attrs:{icon:"add",title:"Добавить"},on:{"button-click":function(e){return t.createWorker()}}}),n("AppButtonIcon",{attrs:{icon:"close",title:"Закрыть окно"},on:{"button-click":function(e){return t.$emit("popup-toggle")}}})]},proxy:!0}])}),n("div",{staticClass:"add-city-container"},[n("AppLineText",{staticClass:"input-add",attrs:{type:"text",maxLength:"25",label:"Фамилия: "},model:{value:t.surname,callback:function(e){t.surname="string"===typeof e?e.trim():e},expression:"surname"}})],1)],1)},d=[],f=(n("99af"),n("bf19"),n("a26a")),m=n("1b06"),v={name:"WorkerPopupAdd",data:function(){return{surname:"Рабочий"}},components:{AppPopupWrapper:f["a"],AppTopPanel:c["a"],AppButtonIcon:p["a"],AppLineText:m["a"]},props:{popupHidden:Boolean,workers:Object},methods:{createWorker:function(){var t={id:Date.now(),name:"Новый",surname:this.surname,patronymic:"",accountNumber:Date.now(),nameCard:"Новый",surnameCard:"Рабочий",patronymicCard:"",accountNumberCard:"",bank:"СберБанк",age:"",sex:"Мужской",city:"",nationality:"",passportID:"",passportDate:"",passportIssued:"",registration:"",address:"",homePhone:"",mobilePhone:"",medicalBook:"",education:"",university:"",previousWork:"",reasonComing:"",professions:"",nightShift:"Нет",checkMVD:"Да",dateInterview:"",uniform:"",fired:"Нет",edited:!1,editedCount:0,history:[{date:"[Дата: ".concat((new Date).toLocaleDateString()," Время: ").concat((new Date).toLocaleTimeString(),"]"),info:"Работник создан сотрудником ",employee:{name:"",id:""}}],events:[{id:Date.now(),title:"Карточка создана",date:(new Date).toJSON()}],notes:["".concat((new Date).toLocaleDateString(),": Рабочий создан")]};this.$emit("add-worker",t),this.$emit("popup-toggle"),this.surname="Рабочий"}}},_=v,b=n("2877"),h=Object(b["a"])(_,l,d,!1,null,null,null),k=h.exports,w={name:"Workers",components:{AppTopPanel:c["a"],AppButtonIcon:p["a"],TableWorkers:u["a"],WorkerPopupAdd:k},data:function(){return{popupAddHidden:!0}},computed:Object(o["a"])({},Object(i["c"])(["workers"])),created:function(){this.SET_WORKERS_FROM_LOCAL_STORAGE()},methods:Object(o["a"])(Object(o["a"])({},Object(i["d"])(["SET_WORKERS_FROM_SERVER","SET_WORKERS_FROM_LOCAL_STORAGE"])),{},{popupAddToggle:function(){this.popupAddHidden=!this.popupAddHidden},removeWorker:function(t){var e=this;s["a"].database().ref("/workers/"+t).remove().then((function(){e.SET_WORKERS_FROM_SERVER(),console.log("Рабочий удалён 🗑️")}))},addWorker:function(t){var e=this;s["a"].database().ref("/workers/"+t.id).set(t).then((function(){e.SET_WORKERS_FROM_SERVER(),console.log("Рабочий добавлен ➕")}))},updateWorkers:function(){this.SET_WORKERS_FROM_SERVER(),M.toast({html:"Сотрудники обновлены"})}})},g=w,S=Object(b["a"])(g,r,a,!1,null,null,null);e["default"]=S.exports},"47aa":function(t,e,n){},"73a7":function(t,e,n){"use strict";n("94ec")},"94ec":function(t,e,n){},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),o=n("e8b5"),i=n("861d"),s=n("7b0b"),c=n("50c4"),p=n("8418"),u=n("65f0"),l=n("1dde"),d=n("b622"),f=n("2d00"),m=d("isConcatSpreadable"),v=9007199254740991,_="Maximum allowed index exceeded",b=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),h=l("concat"),k=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},w=!b||!h;r({target:"Array",proto:!0,forced:w},{concat:function(t){var e,n,r,a,o,i=s(this),l=u(i,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?i:arguments[e],k(o)){if(a=c(o.length),d+a>v)throw TypeError(_);for(n=0;n<a;n++,d++)n in o&&p(l,d,o[n])}else{if(d>=v)throw TypeError(_);p(l,d++,o)}return l.length=d,l}})},a26a:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.hidden?"hidden":"",attrs:{id:"app-popup-wrapper"}},[n("div",{staticClass:"popup-wrapper-overlay"},[n("div",{staticClass:"popup-wrapper-content"},[t._t("default")],2)])])},a=[],o={name:"PopupWrapper",props:{hidden:Boolean}},i=o,s=(n("73a7"),n("2877")),c=Object(s["a"])(i,r,a,!1,null,"70be0339",null);e["a"]=c.exports},be66:function(t,e,n){"use strict";n("ffb5")},bf19:function(t,e,n){"use strict";var r=n("23e7");r({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},f2cc:function(t,e,n){},f8a1:function(t,e,n){"use strict";n("f2cc")},ffb5:function(t,e,n){}}]);
//# sourceMappingURL=chunk-cef44e30.c5bb6a0f.js.map