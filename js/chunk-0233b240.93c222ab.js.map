{"version":3,"sources":["webpack:///./src/components/customers/CustomerEdit.vue?8fd5","webpack:///src/components/customers/CustomerEdit.vue","webpack:///./src/components/customers/CustomerEdit.vue?702d","webpack:///./src/components/customers/CustomerEdit.vue?ab8e","webpack:///./src/components/customers/CustomerEdit.vue?8ecf"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","editedCustomer","name","on","$event","saveEditedCustomer","editorExit","model","value","callback","$$v","$set","expression","note","notes","notesCount","staticRenderFns","components","data","computed","created","SET_CUSTOMERS_FROM_LOCAL_STORAGE","customers","$route","params","id","methods","$router","push","length","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,aAAa,CAACF,EAAG,MAAM,CAACG,YAAY,kBAAkB,CAACH,EAAG,gBAAgB,CAACE,MAAM,CAAC,eAAe,IAAI,gBAAgB,kBAAkB,cAAc,qBAAuBN,EAAIQ,eAAeC,QAAQL,EAAG,MAAM,CAACG,YAAY,oBAAoB,CAACH,EAAG,gBAAgB,CAACE,MAAM,CAAC,gBAAgB,OAAO,MAAQ,qBAAqBI,GAAG,CAAC,eAAe,SAASC,GAAQ,OAAOX,EAAIY,mBAAmBZ,EAAIQ,oBAAoBJ,EAAG,gBAAgB,CAACE,MAAM,CAAC,gBAAgB,kBAAkB,MAAQ,wBAAwBI,GAAG,CAAC,eAAeV,EAAIa,eAAe,IAAI,GAAGT,EAAG,UAAU,CAACG,YAAY,gBAAgB,CAACH,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,gBAAgB,CAACE,MAAM,CAAC,eAAe,IAAI,gBAAgB,kBAAkB,cAAc,qBAAqBF,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,cAAc,CAACE,MAAM,CAAC,QAAU,aAAa,MAAQ,qBAAqB,UAAY,MAAMQ,MAAM,CAACC,MAAOf,EAAIQ,eAAmB,KAAEQ,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIQ,eAAgB,OAAQS,IAAME,WAAW,0BAA0B,IAAI,GAAGf,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,gBAAgB,CAACE,MAAM,CAAC,eAAe,IAAI,gBAAgB,qBAAqB,cAAc,aAAaF,EAAG,MAAM,CAACG,YAAY,sBAAsB,CAACH,EAAG,aAAa,CAACE,MAAM,CAAC,QAAU,mBAAmB,MAAQ,sBAAsB,SAAW,IAAI,SAAW,KAAK,UAAY,KAAKQ,MAAM,CAACC,MAAOf,EAAIQ,eAAyB,WAAEQ,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAIQ,eAAgB,aAAcS,IAAME,WAAW,+BAA+Bf,EAAG,cAAc,CAACE,MAAM,CAAC,YAAc,wBAAwB,QAAU,aAAa,MAAQ,kBAAkB,UAAY,MAAMQ,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAIoB,KAAKH,GAAKE,WAAW,UAAUf,EAAG,eAAe,CAACE,MAAM,CAAC,aAAaN,EAAIQ,eAAea,MAAM,cAAcrB,EAAIQ,eAAec,eAAe,IAAI,QAC36DC,EAAkB,G,4GC6DtB,GACEd,KAAM,gBAENe,WAAY,CAAd,oGAEEC,KALF,WAMI,MAAO,CACLjB,eAAgB,GAChBY,KAAM,KAIVM,SAAU,OAAZ,OAAY,CAAZ,GACA,gBACA,eAIEC,QAlBF,WAmBI1B,KAAK2B,mCACL3B,KAAKO,eAAiBP,KAAK4B,UAAU5B,KAAK6B,OAAOC,OAAOC,KAG1DC,QAAS,OAAX,OAAW,CAAX,kBACA,gBACA,4BACA,sCAHA,IAMIpB,WANJ,WAOMZ,KAAKiC,QAAQC,KAAK,eAGpBvB,mBAVJ,SAUA,cACM,GAAIX,KAAKmB,KAAKgB,OACZ,IACEnC,KAAKO,eAAea,MAAMc,KAAK,GAAzC,gEACA,SACUlC,KAAKO,eAAea,MAAQ,GAC5BpB,KAAKO,eAAea,MAAMc,KAAK,GAAzC,gEAIM,EAAN,8CACA,iBACQ,EAAR,4BACQ,EAAR,oBC5GqW,I,wBCQjWE,EAAY,eACd,EACAtC,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAc,E,kECnBf","file":"js/chunk-0233b240.93c222ab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-edit\"}},[_c('div',{staticClass:\"edit-top-panel\"},[_c('AppHeaderIcon',{attrs:{\"header-level\":\"3\",\"material-icon\":\"business_center\",\"header-text\":'Редактор клиента: ' + _vm.editedCustomer.name}}),_c('div',{staticClass:\"edit-nav-buttons\"},[_c('AppButtonIcon',{attrs:{\"material-icon\":\"save\",\"title\":\"Сохранить и выйти\"},on:{\"button-click\":function($event){return _vm.saveEditedCustomer(_vm.editedCustomer)}}}),_c('AppButtonIcon',{attrs:{\"material-icon\":\"business_center\",\"title\":\"Вернуться к клиентам\"},on:{\"button-click\":_vm.editorExit}})],1)],1),_c('section',{staticClass:\"edit-section\"},[_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{attrs:{\"header-level\":\"4\",\"material-icon\":\"import_contacts\",\"header-text\":\"Основные данные\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppLineText',{attrs:{\"inputID\":\"input-city\",\"label\":\"Название клиента: \",\"maxLength\":\"20\"},model:{value:(_vm.editedCustomer.name),callback:function ($$v) {_vm.$set(_vm.editedCustomer, \"name\", $$v)},expression:\"editedCustomer.name\"}})],1)],1),_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{attrs:{\"header-level\":\"4\",\"material-icon\":\"chrome_reader_mode\",\"header-text\":\"Заметки\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppNumbers',{attrs:{\"inputID\":\"input-note-count\",\"label\":\"Заметок в списке:  \",\"minValue\":\"0\",\"maxValue\":\"35\",\"maxLength\":\"3\"},model:{value:(_vm.editedCustomer.notesCount),callback:function ($$v) {_vm.$set(_vm.editedCustomer, \"notesCount\", $$v)},expression:\"editedCustomer.notesCount\"}}),_c('AppLineText',{attrs:{\"placeholder\":\"Введите новую заметку\",\"inputID\":\"input-note\",\"label\":\"Новая Заметка: \",\"maxLength\":\"35\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}}),_c('AppNotesList',{attrs:{\"notes-list\":_vm.editedCustomer.notes,\"notes-count\":_vm.editedCustomer.notesCount}})],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app-edit\">\r\n    <div class=\"edit-top-panel\">\r\n      <AppHeaderIcon header-level=\"3\" material-icon=\"business_center\" :header-text=\"'Редактор клиента: ' + editedCustomer.name\"/>\r\n\r\n      <div class=\"edit-nav-buttons\">\r\n        <AppButtonIcon material-icon=\"save\" title=\"Сохранить и выйти\" @button-click=\"saveEditedCustomer(editedCustomer)\"/>\r\n        <AppButtonIcon material-icon=\"business_center\" title=\"Вернуться к клиентам\" @button-click=\"editorExit\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <section class=\"edit-section\">\r\n      <div class=\"edit-block\">\r\n        <AppHeaderIcon header-level=\"4\" material-icon=\"import_contacts\" header-text=\"Основные данные\"/>\r\n\r\n        <div class=\"edit-block-content\">\r\n          <AppLineText\r\n            inputID=\"input-city\"\r\n            label=\"Название клиента: \"\r\n            maxLength=\"20\"\r\n            v-model=\"editedCustomer.name\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"edit-block\">\r\n        <AppHeaderIcon header-level=\"4\" material-icon=\"chrome_reader_mode\" header-text=\"Заметки\"/>\r\n\r\n        <div class=\"edit-block-content\">\r\n          <AppNumbers\r\n            inputID=\"input-note-count\"\r\n            label=\"Заметок в списке:  \"\r\n            minValue=\"0\"\r\n            maxValue=\"35\"\r\n            maxLength=\"3\"\r\n            v-model=\"editedCustomer.notesCount\"\r\n          />\r\n\r\n          <AppLineText\r\n            placeholder=\"Введите новую заметку\"\r\n            inputID=\"input-note\"\r\n            label=\"Новая Заметка: \"\r\n            maxLength=\"35\"\r\n            v-model=\"note\"\r\n          />\r\n\r\n          <AppNotesList :notes-list=\"editedCustomer.notes\" :notes-count=\"editedCustomer.notesCount\"/>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport firebase from 'firebase/app'\r\n\r\nimport AppHeaderIcon from '@/components/AppHeaderIcon'\r\nimport AppButtonIcon from '@/components/AppButtonIcon'\r\nimport AppNumbers from '@/components/AppNumbers'\r\nimport AppLineText from '@/components/AppLineText'\r\nimport AppNotesList from '@/components/edit/AppNotesList'\r\n\r\nexport default {\r\n  name: 'EditorWorkers',\r\n\r\n  components: { AppHeaderIcon, AppButtonIcon, AppNumbers, AppLineText, AppNotesList },\r\n\r\n  data () {\r\n    return {\r\n      editedCustomer: '',\r\n      note: ''\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'customers'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this.SET_CUSTOMERS_FROM_LOCAL_STORAGE()\r\n    this.editedCustomer = this.customers[this.$route.params.id]\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\r\n      'SET_CUSTOMERS_FROM_SERVER',\r\n      'SET_CUSTOMERS_FROM_LOCAL_STORAGE'\r\n    ]),\r\n\r\n    editorExit () {\r\n      this.$router.push('/customers')\r\n    },\r\n\r\n    saveEditedCustomer (customer) {\r\n      if (this.note.length) {\r\n        try {\r\n          this.editedCustomer.notes.push(`${new Date().toLocaleDateString()}: ${this.note}`)\r\n        } catch (error) {\r\n          this.editedCustomer.notes = []\r\n          this.editedCustomer.notes.push(`${new Date().toLocaleDateString()}: ${this.note}`)\r\n        }\r\n      }\r\n\r\n      firebase.database().ref('customers/' + customer.id).set(customer)\r\n        .then(() => {\r\n          this.SET_CUSTOMERS_FROM_SERVER()\r\n          this.editorExit()\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  #app-edit .edit-section {\r\n    display: grid;\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n\r\n  #app-edit .edit-top-panel {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  #app-edit .edit-top-panel:first-child {\r\n    margin: 1.6rem 0 2.7rem 0;\r\n  }\r\n\r\n  #app-edit .edit-block-content {\r\n    margin-top: 1rem;\r\n  }\r\n\r\n  #app-edit .edit-nav-buttons {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  #app-edit .edit-nav-buttons > * {\r\n    margin-right: 1rem;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerEdit.vue?vue&type=template&id=1cf31d73&scoped=true&\"\nimport script from \"./CustomerEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerEdit.vue?vue&type=style&index=0&id=1cf31d73&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1cf31d73\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerEdit.vue?vue&type=style&index=0&id=1cf31d73&scoped=true&lang=css&\""],"sourceRoot":""}