(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72370b7a"],{2985:function(e,t,i){},"336f":function(e,t,i){"use strict";i("d36c")},"597c":function(e,t,i){},a198:function(e,t,i){"use strict";i("2985")},cb29:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-title"},[i("div",{staticClass:"title-container"},[i("h3",[e._v("Список сотрудников")]),i("div",{staticClass:"title-btn-container"},[i("button",{staticClass:"btn-flat btn-title",on:{click:function(t){return e.updateCollection("employees")}}},[i("i",{staticClass:"material-icons"},[e._v("autorenew")])])])]),i("AddCardEmployees",{on:{"add-employee":e.addEmployee}})],1),i("div",[e.employees.length?i("ListEmployees",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):i("div",{staticClass:"empty-list"},[i("h5",{staticClass:"empty-list-title"},[i("i",{staticClass:"material-icons"},[e._v("mood_bad")]),e._v(" Сотрудников не осталось!")]),i("p",[e._v("Добавьте сотрудника, чтобы начать работать над ним.")])])],1)])},s=[],l=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",e._l(e.employees,(function(t){return i("CardEmployees",{key:t.id,attrs:{employee:t},on:{"remove-employee":e.removeEmployee}})})),1)}),o=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[e.overlayShow?[i("div",{staticClass:"popup-overlay"},[i("form",{staticClass:"card auth-card popup"},[i("div",{staticClass:"card-content"},[e._m(0),i("span",{staticClass:"popup-subtitle"},[e._v("Сотрудник: "+e._s(e.employee.name))])]),i("div",{staticClass:"card-action btn-popup"},[i("button",{staticClass:"btn-flat white-text waves-effect waves-light auth-submit blue darken-1",attrs:{type:"submit"},on:{click:function(t){return e.$emit("remove-employee",e.employee.id)}}},[i("i",{staticClass:"material-icons"},[e._v("check")]),e._v(" Да ")]),i("button",{staticClass:"btn-flat white-text waves-effect waves-light auth-submit blue darken-1",attrs:{type:"submit"},on:{click:e.overlayHidden}},[i("i",{staticClass:"material-icons"},[e._v("clear")]),e._v(" Нет ")])])])])]:e._e(),i("div",{staticClass:"col s12"},[i("div",{staticClass:"card-panel blue darken-1 white-text"},[i("div",{staticClass:"card-content dark-text card-line"},[i("div",{staticClass:"info-container"},[i("h6",[i("i",{staticClass:"material-icons"},[e._v("email")]),e._v(" Почта: "+e._s(e.employee.email))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("person")]),e._v(" Сотрудник: "+e._s(e.employee.name)+" "+e._s(e.employee.surname)+" "+e._s(e.employee.patronymic))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("location_city")]),e._v(" Город: "+e._s(e.employee.city))]),e.employee.edited?i("p",{staticClass:"card-report"},[i("i",{staticClass:"material-icons"},[e._v("report")]),e._v(" Карточка сейчас редактируется другим сотрудником ")]):e._e()]),i("div",{staticClass:"button-container"},[e.employee.edited?e._e():i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:e.editedEmployeeStatus}},[i("i",{staticClass:"material-icons"},[e._v("create")]),e._v(" Редактировать ")]),e.employee.edited?i("router-link",{staticClass:"btn-flat waves-effect waves-light auth-submit blue-text text-lighten-3",attrs:{to:"/employees/editor"}},[i("i",{staticClass:"material-icons"},[e._v("border_color")]),e._v(" Редактировать принудительно ")]):e._e(),e.employee.edited?e._e():i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit white-text",on:{click:e.overlayVisibility}},[i("i",{staticClass:"material-icons"},[e._v("delete")]),e._v(" Удалить ")])],1)])])])],2)},r=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"card-title"},[e._v("Удалить элемент? "),i("br")])}],c=(i("c740"),i("a9e3"),{name:"CardEmployees",props:{employee:{type:Object},index:Number},data:function(){return{employees:[],overlayShow:!1}},methods:{overlayVisibility:function(){this.overlayShow=!0},overlayHidden:function(){this.overlayShow=!1},editedEmployeeStatus:function(){var e=this,t=this.employees.findIndex((function(t){return t.id===e.employee.id}));this.employees[t].edited=!0,this.saveEmployees(),this.$router.push("/employees/editor")},saveEmployees:function(){var e=JSON.stringify(this.employees);localStorage.setItem("employees",e)}},mounted:function(){if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(e){localStorage.removeItem("employees")}}}),m=c,u=(i("d674"),i("2877")),p=Object(u["a"])(m,n,r,!1,null,"76fc260e",null),d=p.exports,v={name:"ListEmployees",components:{CardEmployees:d},methods:{removeEmployee:function(e){this.$emit("remove-employee",e)}},props:["employees"]},y=v,f=(i("a198"),Object(u["a"])(y,l,o,!1,null,"f7c76806",null)),h=f.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"button-container",on:{submit:function(t){return t.preventDefault(),e.submitEmployee(t)}}},[i("div",{staticClass:"input-field input-field-blue"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input-add",class:{invalid:e.$v.email.$dirty&&!e.$v.email.required||e.$v.email.$dirty&&!e.$v.email.email},attrs:{id:"email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("label",{attrs:{for:"email"}},[e._v("Почта")]),e.$v.email.$dirty&&!e.$v.email.required?i("small",{staticClass:"helper-text invalid"},[e._v("Введите email сотрудника")]):e.$v.email.$dirty&&!e.$v.email.email?i("small",{staticClass:"helper-text invalid"},[e._v("Введите правильно email ")]):e._e()]),e._m(0)])},b=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"btn-flat waves-effect waves-light auth-submit blue darken-1 white-text",attrs:{type:"submit"}},[i("i",{staticClass:"material-icons"},[e._v("add")]),e._v(" Добавить сотрудника ")])}],C=(i("498a"),i("b5ae")),w={name:"AddCardEmployees",data:function(){return{email:""}},validations:{email:{email:C["email"],required:C["required"]}},methods:{submitEmployee:function(){if(this.$v.$invalid)this.$v.$touch();else if(this.email.trim()){var e={id:Date.now(),email:this.email,password:"",name:Date.now(),surname:"",patronymic:"",homePhone:"",mobilePhone:"",city:"Минск",duty:"",access:!1,edited:!1};this.$emit("add-employee",e),this.email=""}}}},E=w,$=(i("336f"),Object(u["a"])(E,_,b,!1,null,"e3e6472c",null)),g=$.exports,x={name:"Employees",components:{ListEmployees:h,AddCardEmployees:g},data:function(){return{employees:[],updateTimeout:6e4}},methods:{removeEmployee:function(e){this.employees=this.employees.filter((function(t){return t.id!==e})),this.saveCollection(this.employees,"employees")},addEmployee:function(e){this.employees.push(e),this.saveCollection(this.employees,"employees")},saveCollection:function(e,t){var i=JSON.stringify(e);localStorage.setItem(t,i)},updateCollection:function(e){if(localStorage.getItem(e))try{this.employees=JSON.parse(localStorage.getItem(e))}catch(t){localStorage.removeItem(e)}}},mounted:function(){var e=this;this.updateCollection("employees"),setInterval((function(){return e.updateCollection("employees")}),this.updateTimeout)}},S=x,k=Object(u["a"])(S,a,s,!1,null,null,null);t["default"]=k.exports},d36c:function(e,t,i){},d674:function(e,t,i){"use strict";i("597c")}}]);
//# sourceMappingURL=chunk-72370b7a.20cba76b.js.map