{"version":3,"sources":["webpack:///./src/components/section/customers/CustomerEdit.vue?8131","webpack:///src/components/section/customers/CustomerEdit.vue","webpack:///./src/components/section/customers/CustomerEdit.vue?9837","webpack:///./src/components/section/customers/CustomerEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","editedCustomer","name","scopedSlots","_u","key","fn","on","$event","saveEditedCustomer","editorExit","proxy","staticClass","model","value","callback","$$v","$set","expression","note","notes","notesCount","staticRenderFns","components","AppEditWrapper","AppHeaderIcon","AppButtonIcon","AppNumbers","AppLineText","AppNotesList","data","computed","created","SET_CUSTOMERS_FROM_LOCAL_STORAGE","customers","$route","params","id","methods","$router","push","length","component"],"mappings":"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","file":"js/chunk-2d0bcdfa.13639411.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-edit\"}},[_c('AppEditWrapper',{attrs:{\"header\":'Редактор клиента: ' + _vm.editedCustomer.name},scopedSlots:_vm._u([{key:\"nav-buttons\",fn:function(){return [_c('AppButtonIcon',{attrs:{\"icon\":\"save\",\"title\":\"Сохранить и выйти\"},on:{\"button-click\":function($event){return _vm.saveEditedCustomer(_vm.editedCustomer)}}}),_c('AppButtonIcon',{attrs:{\"icon\":\"business_center\",\"title\":\"Вернуться к клиентам\"},on:{\"button-click\":_vm.editorExit}})]},proxy:true},{key:\"edit-section\",fn:function(){return [_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{staticClass:\"edit-block-header\",attrs:{\"header-level\":\"4\",\"material-icon\":\"import_contacts\",\"header-text\":\"Основные данные\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppLineText',{attrs:{\"inputID\":\"input-city\",\"label\":\"Название клиента: \",\"maxLength\":\"20\"},model:{value:(_vm.editedCustomer.name),callback:function ($$v) {_vm.$set(_vm.editedCustomer, \"name\", $$v)},expression:\"editedCustomer.name\"}})],1)],1),_c('div',{staticClass:\"edit-block\"},[_c('AppHeaderIcon',{staticClass:\"edit-block-header\",attrs:{\"header-level\":\"4\",\"material-icon\":\"chrome_reader_mode\",\"header-text\":\"Заметки\"}}),_c('div',{staticClass:\"edit-block-content\"},[_c('AppNumbers',{attrs:{\"inputID\":\"input-note-count\",\"label\":\"Заметок в списке:  \",\"minValue\":\"0\",\"maxValue\":\"35\",\"maxLength\":\"3\"},model:{value:(_vm.editedCustomer.notesCount),callback:function ($$v) {_vm.$set(_vm.editedCustomer, \"notesCount\", $$v)},expression:\"editedCustomer.notesCount\"}}),_c('AppLineText',{attrs:{\"placeholder\":\"Введите новую заметку\",\"inputID\":\"input-note\",\"label\":\"Новая Заметка: \",\"maxLength\":\"35\"},model:{value:(_vm.note),callback:function ($$v) {_vm.note=$$v},expression:\"note\"}}),_c('AppNotesList',{attrs:{\"notes-list\":_vm.editedCustomer.notes,\"notes-count\":_vm.editedCustomer.notesCount}})],1)],1)]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app-edit\">\r\n    <AppEditWrapper :header=\"'Редактор клиента: ' + editedCustomer.name\">\r\n      <template #nav-buttons>\r\n        <AppButtonIcon icon=\"save\" title=\"Сохранить и выйти\" @button-click=\"saveEditedCustomer(editedCustomer)\"/>\r\n        <AppButtonIcon icon=\"business_center\" title=\"Вернуться к клиентам\" @button-click=\"editorExit\"/>\r\n      </template>\r\n\r\n      <template #edit-section>\r\n        <div class=\"edit-block\">\r\n          <AppHeaderIcon class=\"edit-block-header\" header-level=\"4\" material-icon=\"import_contacts\" header-text=\"Основные данные\"/>\r\n\r\n          <div class=\"edit-block-content\">\r\n            <AppLineText\r\n              inputID=\"input-city\"\r\n              label=\"Название клиента: \"\r\n              maxLength=\"20\"\r\n              v-model=\"editedCustomer.name\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"edit-block\">\r\n          <AppHeaderIcon class=\"edit-block-header\" header-level=\"4\" material-icon=\"chrome_reader_mode\" header-text=\"Заметки\"/>\r\n\r\n          <div class=\"edit-block-content\">\r\n            <AppNumbers\r\n              inputID=\"input-note-count\"\r\n              label=\"Заметок в списке:  \"\r\n              minValue=\"0\"\r\n              maxValue=\"35\"\r\n              maxLength=\"3\"\r\n              v-model=\"editedCustomer.notesCount\"\r\n            />\r\n\r\n            <AppLineText\r\n              placeholder=\"Введите новую заметку\"\r\n              inputID=\"input-note\"\r\n              label=\"Новая Заметка: \"\r\n              maxLength=\"35\"\r\n              v-model=\"note\"\r\n            />\r\n\r\n            <AppNotesList :notes-list=\"editedCustomer.notes\" :notes-count=\"editedCustomer.notesCount\"/>\r\n          </div>\r\n        </div>\r\n      </template>\r\n    </AppEditWrapper>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport firebase from 'firebase/app'\r\n\r\nimport AppEditWrapper from '@/components/edit/AppEditWrapper'\r\nimport AppHeaderIcon from '@/components/AppHeaderIcon'\r\nimport AppButtonIcon from '@/components/AppButtonIcon'\r\nimport AppNumbers from '@/components/AppNumbers'\r\nimport AppLineText from '@/components/AppLineText'\r\nimport AppNotesList from '@/components/edit/AppNotesList'\r\n\r\nexport default {\r\n  name: 'EditorWorkers',\r\n\r\n  components: {\r\n    AppEditWrapper,\r\n    AppHeaderIcon,\r\n    AppButtonIcon,\r\n    AppNumbers,\r\n    AppLineText,\r\n    AppNotesList\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      editedCustomer: '',\r\n      note: ''\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters([\r\n      'customers'\r\n    ])\r\n  },\r\n\r\n  created () {\r\n    this.SET_CUSTOMERS_FROM_LOCAL_STORAGE()\r\n    this.editedCustomer = this.customers[this.$route.params.id]\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\r\n      'SET_CUSTOMERS_FROM_SERVER',\r\n      'SET_CUSTOMERS_FROM_LOCAL_STORAGE'\r\n    ]),\r\n\r\n    editorExit () {\r\n      this.$router.push('/customers')\r\n    },\r\n\r\n    saveEditedCustomer (customer) {\r\n      if (this.note.length) {\r\n        try {\r\n          this.editedCustomer.notes.push(`${new Date().toLocaleDateString()}: ${this.note}`)\r\n        } catch (error) {\r\n          this.editedCustomer.notes = []\r\n          this.editedCustomer.notes.push(`${new Date().toLocaleDateString()}: ${this.note}`)\r\n        }\r\n      }\r\n\r\n      firebase.database().ref('customers/' + customer.id).set(customer)\r\n        .then(() => {\r\n          this.SET_CUSTOMERS_FROM_SERVER()\r\n          this.editorExit()\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerEdit.vue?vue&type=template&id=6aa5eadc&\"\nimport script from \"./CustomerEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}