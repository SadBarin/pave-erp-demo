(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c7a3e78"],{"1dde":function(e,t,i){var o=i("d039"),n=i("b622"),a=i("2d00"),r=n("species");e.exports=function(e){return a>=51||!o((function(){var t=[],i=t.constructor={};return i[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2985:function(e,t,i){},"3bcc":function(e,t,i){"use strict";i("da4b")},"498a2":function(e,t,i){"use strict";var o=i("23e7"),n=i("58a8").trim,a=i("c8d2");o({target:"String",proto:!0,forced:a("trim")},{trim:function(){return n(this)}})},"4de4":function(e,t,i){"use strict";var o=i("23e7"),n=i("b727").filter,a=i("1dde"),r=i("ae40"),s=a("filter"),l=r("filter");o({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var o=i("1d80"),n=i("5899"),a="["+n+"]",r=RegExp("^"+a+a+"*"),s=RegExp(a+a+"*$"),l=function(e){return function(t){var i=String(o(t));return 1&e&&(i=i.replace(r,"")),2&e&&(i=i.replace(s,"")),i}};e.exports={start:l(1),end:l(2),trim:l(3)}},"5c9b":function(e,t,i){},"65f0":function(e,t,i){var o=i("861d"),n=i("e8b5"),a=i("b622"),r=a("species");e.exports=function(e,t){var i;return n(e)&&(i=e.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?o(i)&&(i=i[r],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===t?0:t)}},7156:function(e,t,i){var o=i("861d"),n=i("d2bb");e.exports=function(e,t,i){var a,r;return n&&"function"==typeof(a=t.constructor)&&a!==i&&o(r=a.prototype)&&r!==i.prototype&&n(e,r),e}},"9f7a":function(e,t,i){"use strict";i("5c9b")},a198:function(e,t,i){"use strict";i("2985")},a9e3:function(e,t,i){"use strict";var o=i("83ab"),n=i("da84"),a=i("94ca"),r=i("6eeb"),s=i("5135"),l=i("c6b6"),c=i("7156"),u=i("c04e"),m=i("d039"),p=i("7c73"),f=i("241c").f,d=i("06cf").f,v=i("9bf2").f,y=i("58a8").trim,h="Number",b=n[h],g=b.prototype,S=l(p(g))==h,C=function(e){var t,i,o,n,a,r,s,l,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=y(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:o=2,n=49;break;case 79:case 111:o=8,n=55;break;default:return+c}for(a=c.slice(2),r=a.length,s=0;s<r;s++)if(l=a.charCodeAt(s),l<48||l>n)return NaN;return parseInt(a,o)}return+c};if(a(h,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var _,E=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof E&&(S?m((function(){g.valueOf.call(i)})):l(i)!=h)?c(new b(C(t)),i,E):C(t)},x=o?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;x.length>I;I++)s(b,_=x[I])&&!s(E,_)&&v(E,_,d(b,_));E.prototype=g,g.constructor=E,r(n,h,E)}},ae40:function(e,t,i){var o=i("83ab"),n=i("d039"),a=i("5135"),r=Object.defineProperty,s={},l=function(e){throw e};e.exports=function(e,t){if(a(s,e))return s[e];t||(t={});var i=[][e],c=!!a(t,"ACCESSORS")&&t.ACCESSORS,u=a(t,0)?t[0]:l,m=a(t,1)?t[1]:void 0;return s[e]=!!i&&!n((function(){if(c&&!o)return!0;var e={length:-1};c?r(e,1,{enumerable:!0,get:l}):e[1]=1,i.call(e,u,m)}))}},b727:function(e,t,i){var o=i("0366"),n=i("44ad"),a=i("7b0b"),r=i("50c4"),s=i("65f0"),l=[].push,c=function(e){var t=1==e,i=2==e,c=3==e,u=4==e,m=6==e,p=5==e||m;return function(f,d,v,y){for(var h,b,g=a(f),S=n(g),C=o(d,v,3),_=r(S.length),E=0,x=y||s,I=t?x(f,_):i?x(f,0):void 0;_>E;E++)if((p||E in S)&&(h=S[E],b=C(h,E,g),e))if(t)I[E]=b;else if(b)switch(e){case 3:return!0;case 5:return h;case 6:return E;case 2:l.call(I,h)}else if(u)return!1;return m?-1:c||u?u:I}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c740:function(e,t,i){"use strict";var o=i("23e7"),n=i("b727").findIndex,a=i("44d2"),r=i("ae40"),s="findIndex",l=!0,c=r(s);s in[]&&Array(1)[s]((function(){l=!1})),o({target:"Array",proto:!0,forced:l||!c},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(s)},c8d2:function(e,t,i){var o=i("d039"),n=i("5899"),a="​᠎";e.exports=function(e){return o((function(){return!!n[e]()||a[e]()!=a||n[e].name!==e}))}},cb29:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"page-title flex-between-center"},[i("div",{staticClass:"flex-center"},[i("h3",[e._v("Список сотрудников")]),i("div",{staticClass:"flex-center"},[i("button",{staticClass:"btn-floating btn-page-title blue darken-1 waves-effect waves-circle waves-light",attrs:{onclick:"M.toast({html: 'Сотрудники обновлены'})"},on:{click:function(t){return e.updateCollection("employees")}}},[i("i",{staticClass:"material-icons"},[e._v("autorenew")])])])]),i("AddCardEmployees",{on:{"add-employee":e.addEmployee}})],1),i("div",[e.employees.length?i("ListEmployees",{attrs:{employees:e.employees},on:{"remove-employee":e.removeEmployee}}):i("div",{staticClass:"empty-list"},[i("h5",{staticClass:"empty-list-title"},[i("i",{staticClass:"material-icons"},[e._v("mood_bad")]),e._v("Сотрудников не осталось!")]),i("p",[e._v("Добавьте сотрудника, чтобы начать работать над ним.")])])],1)])},n=[],a=(i("4de4"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",e._l(e.employees,(function(t){return i("CardEmployees",{key:t.id,attrs:{employee:t},on:{"remove-employee":e.removeEmployee}})})),1)}),r=[],s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[e.popupShow?i("Popup",{attrs:{"popup-toast":"Сотрудник "+e.employee.surname+" "+e.employee.name+" был(а) удалён!"},on:{yes:function(t){return e.$emit("remove-employee",e.employee.id)},no:e.popupHidden},scopedSlots:e._u([{key:"title-popup",fn:function(){return[e._v(" Удалить? ")]},proxy:!0},{key:"text-info-popup",fn:function(){return[e._v(' После нажатия кнопки "да" будет удалён сотрудник '),i("b",[e._v(e._s(e.employee.surname)+" "+e._s(e.employee.name))])]},proxy:!0}],null,!1,309414435)}):e._e(),i("div",{staticClass:"col s12"},[i("div",{staticClass:"card-panel blue darken-1 white-text"},[i("div",{staticClass:"card-content dark-text card-line"},[i("div",{staticClass:"info-container"},[i("h6",[i("i",{staticClass:"material-icons"},[e._v("email")]),e._v(" Почта: "+e._s(e.employee.email))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("person")]),e._v(" Сотрудник: "+e._s(e.employee.surname)+" "+e._s(e.employee.name))]),i("h6",[i("i",{staticClass:"material-icons"},[e._v("location_city")]),e._v(" Город: "+e._s(e.employee.city))]),e.employee.edited?i("p",{staticClass:"card-report"},[i("i",{staticClass:"material-icons"},[e._v("report")]),e._v(" Карточка сейчас редактируется другим сотрудником ")]):e._e()]),i("div",{staticClass:"flex-center flex-centerflex-column-center"},[i("button",{staticClass:"btn-floating transparent darken-1 waves-effect waves-light auth-submit white-text",attrs:{title:"Редактировать"},on:{click:e.editedEmployeeStatus}},[i("i",{staticClass:"material-icons"},[e._v("create")])]),e.employee.edited?e._e():i("button",{staticClass:"btn-floating transparent darken-1 waves-effect waves-light auth-submit white-text",attrs:{title:"Удалить"},on:{click:e.popupVisibility}},[i("i",{staticClass:"material-icons"},[e._v("delete")])])])])])])],1)},l=[],c=(i("c740"),i("a9e3"),i("3905")),u={name:"CardEmployees",components:{Popup:c["a"]},props:{employee:{type:Object},index:Number},data:function(){return{employees:[],popupShow:!1}},methods:{popupVisibility:function(){this.popupShow=!0},popupHidden:function(){this.popupShow=!1},editedEmployeeStatus:function(){var e=this;if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(i){localStorage.removeItem("employees")}var t=this.employees.findIndex((function(t){return t.id===e.employee.id}));this.employees[t].edited=!0,this.saveEmployees(),this.$router.push("/employees/editor")},saveEmployees:function(){var e=JSON.stringify(this.employees);localStorage.setItem("employees",e)}},mounted:function(){if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(e){localStorage.removeItem("employees")}}},m=u,p=(i("3bcc"),i("2877")),f=Object(p["a"])(m,s,l,!1,null,"dc2b149c",null),d=f.exports,v={name:"ListEmployees",components:{CardEmployees:d},methods:{removeEmployee:function(e){this.$emit("remove-employee",e)}},props:["employees"]},y=v,h=(i("a198"),Object(p["a"])(y,a,r,!1,null,"f7c76806",null)),b=h.exports,g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{staticClass:"flex-center",on:{submit:function(t){return t.preventDefault(),e.submitEmployee(t)}}},[i("div",{staticClass:"input-field input-field-blue"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.email,expression:"email",modifiers:{trim:!0}}],staticClass:"input-add",class:{invalid:e.$v.email.$dirty&&!e.$v.email.required||e.$v.email.$dirty&&!e.$v.email.email},attrs:{id:"email",type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),i("label",{attrs:{for:"email"}},[e._v("Почта")]),e.$v.email.$dirty&&!e.$v.email.required?i("small",{staticClass:"helper-text invalid"},[e._v("Введите email сотрудника")]):e.$v.email.$dirty&&!e.$v.email.email?i("small",{staticClass:"helper-text invalid"},[e._v("Введите правильно email ")]):e.coincidence?i("small",{staticClass:"helper-text invalid"},[e._v(" Email уже есть ")]):e._e()]),e._m(0)])},S=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"btn-floating btn-page-title blue darken-1 waves-effect waves-circle waves-light",attrs:{type:"submit"}},[i("i",{staticClass:"material-icons"},[e._v("add")])])}],C=(i("d3b7"),i("25f0"),i("498a2"),i("b85c")),_=i("b5ae"),E={name:"AddCardEmployees",data:function(){return{email:"",coincidence:!1,employees:[{}]}},validations:{email:{email:_["email"],required:_["required"]}},methods:{submitEmployee:function(){if(localStorage.getItem("employees"))try{this.employees=JSON.parse(localStorage.getItem("employees"))}catch(n){localStorage.removeItem("employees")}if(this.$v.$invalid)this.$v.$touch();else{var e,t=Object(C["a"])(this.employees);try{for(t.s();!(e=t.n()).done;){var i=e.value;if(void 0!==i.email){if(i.email.toString().toLowerCase()===this.email.toString().toLowerCase()){this.coincidence=!0;break}this.coincidence=!1}}}catch(a){t.e(a)}finally{t.f()}if(this.email.trim()&&!this.coincidence){var o={id:Date.now(),email:this.email,password:"",name:"Сотрудник",surname:"Новый",patronymic:"",homePhone:"",mobilePhone:"",city:"Отсутствует",duty:"",access:!1,edited:!1};this.$emit("add-employee",o),this.email=""}}}}},x=E,I=(i("9f7a"),Object(p["a"])(x,g,S,!1,null,"6734c58c",null)),w=I.exports,L={name:"Employees",components:{ListEmployees:b,AddCardEmployees:w},data:function(){return{employees:[],updateTimeout:6e4}},methods:{removeEmployee:function(e){this.employees=this.employees.filter((function(t){return t.id!==e})),this.saveCollection(this.employees,"employees")},addEmployee:function(e){this.employees.push(e),this.saveCollection(this.employees,"employees")},saveCollection:function(e,t){var i=JSON.stringify(e);localStorage.setItem(t,i)},updateCollection:function(e){if(localStorage.getItem(e))try{this.employees=JSON.parse(localStorage.getItem(e))}catch(t){localStorage.removeItem(e)}}},mounted:function(){var e=this;this.updateCollection("employees"),setInterval((function(){return e.updateCollection("employees")}),this.updateTimeout)}},N=L,A=Object(p["a"])(N,o,n,!1,null,null,null);t["default"]=A.exports},da4b:function(e,t,i){},e8b5:function(e,t,i){var o=i("c6b6");e.exports=Array.isArray||function(e){return"Array"==o(e)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=chunk-4c7a3e78.2ed5d296.js.map